const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web-xp1qzsMK.js","assets/app-uamf9Z7o.js","assets/app-DYXMlGDN.js","assets/app-BX_u9l2d.css"])))=>i.map(i=>d[i]);
import{_ as Z}from"./app-uamf9Z7o.js";var W;(function(n){n[n.SCAN_MODE_LOW_POWER=0]="SCAN_MODE_LOW_POWER",n[n.SCAN_MODE_BALANCED=1]="SCAN_MODE_BALANCED",n[n.SCAN_MODE_LOW_LATENCY=2]="SCAN_MODE_LOW_LATENCY"})(W||(W={}));var V;(function(n){n[n.CONNECTION_PRIORITY_BALANCED=0]="CONNECTION_PRIORITY_BALANCED",n[n.CONNECTION_PRIORITY_HIGH=1]="CONNECTION_PRIORITY_HIGH",n[n.CONNECTION_PRIORITY_LOW_POWER=2]="CONNECTION_PRIORITY_LOW_POWER"})(V||(V={}));var S;(function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"})(S||(S={}));class k extends Error{constructor(e,t,r){super(e),this.message=e,this.code=t,this.data=r}}const ee=n=>{var e,t;return n?.androidBridge?"android":!((t=(e=n?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},te=n=>{const e=n.CapacitorCustomPlatform||null,t=n.Capacitor||{},r=t.Plugins=t.Plugins||{},a=()=>e!==null?e.name:ee(n),i=()=>a()!=="web",o=u=>{const l=y.get(u);return!!(l?.platforms.has(a())||c(u))},c=u=>{var l;return(l=t.PluginHeaders)===null||l===void 0?void 0:l.find(A=>A.name===u)},f=u=>n.console.error(u),y=new Map,D=(u,l={})=>{const A=y.get(u);if(A)return console.warn(`Capacitor plugin "${u}" already registered. Cannot register plugins twice.`),A.proxy;const L=a(),P=c(u);let m;const Q=async()=>(!m&&L in l?m=typeof l[L]=="function"?m=await l[L]():m=l[L]:e!==null&&!m&&"web"in l&&(m=typeof l.web=="function"?m=await l.web():m=l.web),m),J=(w,h)=>{var v,E;if(P){const C=P?.methods.find(b=>h===b.name);if(C)return C.rtype==="promise"?b=>t.nativePromise(u,h.toString(),b):(b,_)=>t.nativeCallback(u,h.toString(),b,_);if(w)return(v=w[h])===null||v===void 0?void 0:v.bind(w)}else{if(w)return(E=w[h])===null||E===void 0?void 0:E.bind(w);throw new k(`"${u}" plugin is not implemented on ${L}`,S.Unimplemented)}},I=w=>{let h;const v=(...E)=>{const C=Q().then(b=>{const _=J(b,w);if(_){const T=_(...E);return h=T?.remove,T}else throw new k(`"${u}.${w}()" is not implemented on ${L}`,S.Unimplemented)});return w==="addListener"&&(C.remove=async()=>h()),C};return v.toString=()=>`${w.toString()}() { [capacitor code] }`,Object.defineProperty(v,"name",{value:w,writable:!1,configurable:!1}),v},x=I("addListener"),N=I("removeListener"),X=(w,h)=>{const v=x({eventName:w},h),E=async()=>{const b=await v;N({eventName:w,callbackId:b},h)},C=new Promise(b=>v.then(()=>b({remove:E})));return C.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await E()},C},U=new Proxy({},{get(w,h){switch(h){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return P?X:x;case"removeListener":return N;default:return I(h)}}});return r[u]=U,y.set(u,{name:u,proxy:U,platforms:new Set([...Object.keys(l),...P?[L]:[]])}),U};return t.convertFileSrc||(t.convertFileSrc=u=>u),t.getPlatform=a,t.handleError=f,t.isNativePlatform=i,t.isPluginAvailable=o,t.registerPlugin=D,t.Exception=k,t.DEBUG=!!t.DEBUG,t.isLoggingEnabled=!!t.isLoggingEnabled,t},ne=n=>n.Capacitor=te(n),p=ne(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),R=p.registerPlugin;class B{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(t);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,t);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,r){const a=this.listeners[e];if(!a){if(r){let i=this.retainedEventArguments[e];i||(i=[]),i.push(t),this.retainedEventArguments[e]=i}return}a.forEach(i=>i(t))}hasListeners(e){var t;return!!(!((t=this.listeners[e])===null||t===void 0)&&t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:r=>{this.notifyListeners(t,r)}}}unimplemented(e="not implemented"){return new p.Exception(e,S.Unimplemented)}unavailable(e="not available"){return new p.Exception(e,S.Unavailable)}async removeListener(e,t){const r=this.listeners[e];if(!r)return;const a=r.indexOf(t);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(r=>{this.notifyListeners(e,r)}))}}const H=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),F=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class re extends B{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[a,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=F(a).trim(),i=F(i).trim(),t[a]=i}),t}async setCookie(e){try{const t=H(e.key),r=H(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${r||""}${a}; path=${i}; ${o};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}R("CapacitorCookies",{web:()=>new re});const ae=async n=>new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{const a=r.result;e(a.indexOf(",")>=0?a.split(",")[1]:a)},r.onerror=a=>t(a),r.readAsDataURL(n)}),ie=(n={})=>{const e=Object.keys(n);return Object.keys(n).map(a=>a.toLocaleLowerCase()).reduce((a,i,o)=>(a[i]=n[e[o]],a),{})},se=(n,e=!0)=>n?Object.entries(n).reduce((r,a)=>{const[i,o]=a;let c,f;return Array.isArray(o)?(f="",o.forEach(y=>{c=e?encodeURIComponent(y):y,f+=`${i}=${c}&`}),f.slice(0,-1)):(c=e?encodeURIComponent(o):o,f=`${i}=${c}`),`${r}&${f}`},"").substr(1):null,oe=(n,e={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},e),a=ie(n.headers)["content-type"]||"";if(typeof n.data=="string")t.body=n.data;else if(a.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,c]of Object.entries(n.data||{}))i.set(o,c);t.body=i.toString()}else if(a.includes("multipart/form-data")||n.data instanceof FormData){const i=new FormData;if(n.data instanceof FormData)n.data.forEach((c,f)=>{i.append(f,c)});else for(const c of Object.keys(n.data))i.append(c,n.data[c]);t.body=i;const o=new Headers(t.headers);o.delete("content-type"),t.headers=o}else(a.includes("application/json")||typeof n.data=="object")&&(t.body=JSON.stringify(n.data));return t};class ce extends B{async request(e){const t=oe(e,e.webFetchExtra),r=se(e.params,e.shouldEncodeUrlParams),a=r?`${e.url}?${r}`:e.url,i=await fetch(a,t),o=i.headers.get("content-type")||"";let{responseType:c="text"}=i.ok?e:{};o.includes("application/json")&&(c="json");let f,y;switch(c){case"arraybuffer":case"blob":y=await i.blob(),f=await ae(y);break;case"json":f=await i.json();break;case"document":case"text":default:f=await i.text()}const D={};return i.headers.forEach((u,l)=>{D[l]=u}),{data:f,headers:D,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}R("CapacitorHttp",{web:()=>new ce});var M;(function(n){n.Dark="DARK",n.Light="LIGHT",n.Default="DEFAULT"})(M||(M={}));var G;(function(n){n.StatusBar="StatusBar",n.NavigationBar="NavigationBar"})(G||(G={}));class ue extends B{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}R("SystemBars",{web:()=>new ue});function de(n){return new DataView(Uint8Array.from(n).buffer)}function le(n){return Array.from(new Uint8Array(n.buffer,n.byteOffset,n.byteLength))}function fe(n){return`0000${n.toString(16).padStart(4,"0")}-0000-1000-8000-00805f9b34fb`}function z(n){const e=[];let t,r,a=1,i=0;for(t=0;t<n.length;t++)r=n.charCodeAt(t),(r>47&&r<58||r>64&&r<71||r>96&&r<103)&&(i=i<<4^(r>64?r+9:r)&15,(a^=1)&&e.push(i&255));return de(e)}function $(n){return le(n).map(e=>{let t=e.toString(16);return t.length==1&&(t="0"+t),t}).join("")}function ge(n){if(typeof n=="string")return n;if(typeof n=="number")return fe(n);throw new Error("Invalid UUID")}function ve(n){const e={};if(n)return n.forEach((t,r)=>{e[r.toString()]=t}),e}function K(n){if(n!==void 0){if(typeof n=="string"){const e=z(n);return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}return n instanceof DataView?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):n}}function q(n){if(n!==void 0)return n instanceof DataView?$(n):$(new DataView(n.buffer,n.byteOffset,n.byteLength))}function me(n){if(n.buffer instanceof SharedArrayBuffer){const t=new Uint8Array(n.buffer,n.byteOffset,n.byteLength).slice().buffer;return new DataView(t)}return n}const s=R("BluetoothLe",{web:()=>Z(()=>import("./web-xp1qzsMK.js"),__vite__mapDeps([0,1,2,3])).then(n=>new n.BluetoothLeWeb)}),we=()=>{let n=Promise.resolve();return e=>new Promise((t,r)=>{n=n.then(()=>e()).then(t).catch(r)})};function j(n){return n?we():e=>e()}function d(n){if(typeof n!="string")throw new Error(`Invalid UUID type ${typeof n}. Expected string.`);if(n=n.toLowerCase(),!(n.search(/^[0-9a-f]{8}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{12}$/)>=0))throw new Error(`Invalid UUID format ${n}. Expected 128 bit string (e.g. "0000180d-0000-1000-8000-00805f9b34fb").`);return n}class he{constructor(){this.scanListener=null,this.eventListeners=new Map,this.queue=j(!0)}enableQueue(){this.queue=j(!0)}disableQueue(){this.queue=j(!1)}async initialize(e){await this.queue(async()=>{await s.initialize(e)})}async isEnabled(){return await this.queue(async()=>(await s.isEnabled()).value)}async requestEnable(){await this.queue(async()=>{await s.requestEnable()})}async enable(){await this.queue(async()=>{await s.enable()})}async disable(){await this.queue(async()=>{await s.disable()})}async startEnabledNotifications(e){await this.queue(async()=>{var t;const r="onEnabledChanged";await((t=this.eventListeners.get(r))===null||t===void 0?void 0:t.remove());const a=await s.addListener(r,i=>{e(i.value)});this.eventListeners.set(r,a),await s.startEnabledNotifications()})}async stopEnabledNotifications(){await this.queue(async()=>{var e;const t="onEnabledChanged";await((e=this.eventListeners.get(t))===null||e===void 0?void 0:e.remove()),this.eventListeners.delete(t),await s.stopEnabledNotifications()})}async isLocationEnabled(){return await this.queue(async()=>(await s.isLocationEnabled()).value)}async openLocationSettings(){await this.queue(async()=>{await s.openLocationSettings()})}async openBluetoothSettings(){await this.queue(async()=>{await s.openBluetoothSettings()})}async openAppSettings(){await this.queue(async()=>{await s.openAppSettings()})}async setDisplayStrings(e){await this.queue(async()=>{await s.setDisplayStrings(e)})}async requestDevice(e){return e=e?this.validateRequestBleDeviceOptions(e):void 0,await this.queue(async()=>await s.requestDevice(e))}async requestLEScan(e,t){e=this.validateRequestBleDeviceOptions(e),await this.queue(async()=>{var r;await((r=this.scanListener)===null||r===void 0?void 0:r.remove()),this.scanListener=await s.addListener("onScanResult",a=>{const i=Object.assign(Object.assign({},a),{manufacturerData:this.convertObject(a.manufacturerData),serviceData:this.convertObject(a.serviceData),rawAdvertisement:a.rawAdvertisement?this.convertValue(a.rawAdvertisement):void 0});t(i)}),await s.requestLEScan(e)})}async stopLEScan(){await this.queue(async()=>{var e;await((e=this.scanListener)===null||e===void 0?void 0:e.remove()),this.scanListener=null,await s.stopLEScan()})}async getDevices(e){if(!Array.isArray(e))throw new Error("deviceIds must be an array");return this.queue(async()=>(await s.getDevices({deviceIds:e})).devices)}async getConnectedDevices(e){if(!Array.isArray(e))throw new Error("services must be an array");return e=e.map(d),this.queue(async()=>(await s.getConnectedDevices({services:e})).devices)}async getBondedDevices(){return this.queue(async()=>(await s.getBondedDevices()).devices)}async connect(e,t,r){await this.queue(async()=>{var a;if(t){const i=`disconnected|${e}`;await((a=this.eventListeners.get(i))===null||a===void 0?void 0:a.remove());const o=await s.addListener(i,()=>{t(e)});this.eventListeners.set(i,o)}await s.connect(Object.assign({deviceId:e},r))})}async createBond(e,t){await this.queue(async()=>{await s.createBond(Object.assign({deviceId:e},t))})}async isBonded(e){return await this.queue(async()=>(await s.isBonded({deviceId:e})).value)}async disconnect(e){await this.queue(async()=>{await s.disconnect({deviceId:e})})}async getServices(e){return await this.queue(async()=>(await s.getServices({deviceId:e})).services)}async discoverServices(e){await this.queue(async()=>{await s.discoverServices({deviceId:e})})}async getMtu(e){return await this.queue(async()=>(await s.getMtu({deviceId:e})).value)}async requestConnectionPriority(e,t){await this.queue(async()=>{await s.requestConnectionPriority({deviceId:e,connectionPriority:t})})}async readRssi(e){return await this.queue(async()=>{const r=await s.readRssi({deviceId:e});return parseFloat(r.value)})}async read(e,t,r,a){return t=d(t),r=d(r),await this.queue(async()=>{const o=await s.read(Object.assign({deviceId:e,service:t,characteristic:r},a));return this.convertValue(o.value)})}async write(e,t,r,a,i){return t=d(t),r=d(r),this.queue(async()=>{if(!a?.buffer)throw new Error("Invalid data.");let o=a;p.getPlatform()!=="web"&&(o=$(a)),await s.write(Object.assign({deviceId:e,service:t,characteristic:r,value:o},i))})}async writeWithoutResponse(e,t,r,a,i){t=d(t),r=d(r),await this.queue(async()=>{if(!a?.buffer)throw new Error("Invalid data.");let o=a;p.getPlatform()!=="web"&&(o=$(a)),await s.writeWithoutResponse(Object.assign({deviceId:e,service:t,characteristic:r,value:o},i))})}async readDescriptor(e,t,r,a,i){return t=d(t),r=d(r),a=d(a),await this.queue(async()=>{const c=await s.readDescriptor(Object.assign({deviceId:e,service:t,characteristic:r,descriptor:a},i));return this.convertValue(c.value)})}async writeDescriptor(e,t,r,a,i,o){return t=d(t),r=d(r),a=d(a),this.queue(async()=>{if(!i?.buffer)throw new Error("Invalid data.");let c=i;p.getPlatform()!=="web"&&(c=$(i)),await s.writeDescriptor(Object.assign({deviceId:e,service:t,characteristic:r,descriptor:a,value:c},o))})}async startNotifications(e,t,r,a,i){t=d(t),r=d(r),await this.queue(async()=>{var o;const c=`notification|${e}|${t}|${r}`;await((o=this.eventListeners.get(c))===null||o===void 0?void 0:o.remove());const f=await s.addListener(c,y=>{a(this.convertValue(y?.value))});this.eventListeners.set(c,f),await s.startNotifications(Object.assign({deviceId:e,service:t,characteristic:r},i))})}async stopNotifications(e,t,r){t=d(t),r=d(r),await this.queue(async()=>{var a;const i=`notification|${e}|${t}|${r}`;await((a=this.eventListeners.get(i))===null||a===void 0?void 0:a.remove()),this.eventListeners.delete(i),await s.stopNotifications({deviceId:e,service:t,characteristic:r})})}validateRequestBleDeviceOptions(e){return e.services&&(e.services=e.services.map(d)),e.optionalServices&&(e.optionalServices=e.optionalServices.map(d)),e.serviceData&&p.getPlatform()!=="web"&&(e.serviceData=e.serviceData.map(t=>Object.assign(Object.assign({},t),{serviceUuid:d(t.serviceUuid),dataPrefix:q(t.dataPrefix),mask:q(t.mask)}))),e.manufacturerData&&(p.getPlatform()!=="web"?e.manufacturerData=e.manufacturerData.map(t=>Object.assign(Object.assign({},t),{dataPrefix:q(t.dataPrefix),mask:q(t.mask)})):e.manufacturerData=e.manufacturerData.map(t=>Object.assign(Object.assign({},t),{dataPrefix:K(t.dataPrefix),mask:K(t.mask)}))),e}convertValue(e){return typeof e=="string"?z(e):e===void 0?new DataView(new ArrayBuffer(0)):e}convertObject(e){if(e===void 0)return;const t={};for(const r of Object.keys(e))t[r]=this.convertValue(e[r]);return t}}const O=new he,g="\x1B",Y="";class ye{device=null;isWeb=!p.isNativePlatform();PRINTER_SERVICE="000018f0-0000-1000-8000-00805f9b34fb";PRINTER_CHARACTERISTIC="00002af1-0000-1000-8000-00805f9b34fb";async initialize(){this.isWeb||await O.initialize()}async scan(){if(this.isWeb)throw new Error("Bluetooth printing not supported in web browser");const e=[];return await O.requestLEScan({},t=>{const r=t.device.name?.toLowerCase()||"";(r.includes("pt")||r.includes("printer")||r.includes("thermal")||r.includes("pos")||r.includes("rpp"))&&!e.find(i=>i.deviceId===t.device.deviceId)&&e.push(t.device)}),await new Promise(t=>setTimeout(t,5e3)),await O.stopLEScan(),e}async connect(e){if(this.isWeb)throw new Error("Bluetooth printing not supported in web browser");try{return await O.connect(e,()=>{console.log("Printer disconnected"),this.device=null}),this.device={deviceId:e,name:"Thermal Printer"},localStorage.setItem("thermal_printer_id",e),!0}catch(t){return console.error("Connection error:",t),!1}}async disconnect(){this.device&&!this.isWeb&&(await O.disconnect(this.device.deviceId),this.device=null,localStorage.removeItem("thermal_printer_id"))}isConnected(){return this.device!==null}getConnectedDevice(){return this.device}async write(e){if(!this.device||this.isWeb)throw new Error("Printer not connected");const r=new TextEncoder().encode(e);try{await O.write(this.device.deviceId,this.PRINTER_SERVICE,this.PRINTER_CHARACTERISTIC,r.buffer)}catch(a){console.error("Write error with primary service, trying alternative...",a);try{await O.write(this.device.deviceId,"0000ff00-0000-1000-8000-00805f9b34fb","0000ff02-0000-1000-8000-00805f9b34fb",r.buffer)}catch(i){throw console.error("Alternative write also failed:",i),new Error("Unable to write to printer. Please check printer compatibility.")}}}async printTest(){const e=[`${g}@`,`${g}a`,`================================
`,`Sabing2m Test Receipt
`,`================================
`,`${g}a\0`,`Date: ${new Date().toLocaleDateString()}
`,`Time: ${new Date().toLocaleTimeString()}
`,`================================
`,`Bluetooth Connection: OK
`,`Printer Status: Connected
`,`================================
`,`


`,`${Y}VA\0`].join("");await this.write(e)}async printTicket(e){const t=e.side.toUpperCase(),r=[`${g}@`,`${g}a`,`${g}!`,`EVENTITLE
`,`${g}!\0`,`================================
`,`${g}a\0`,`Fight #: ${e.fight_number}
`,`Receipt: ${e.ticket_id.substring(0,12)}
`,`Date: ${new Date().toLocaleDateString()}
`,`Time: ${new Date().toLocaleTimeString()}
`,`--------------------------------
`,`${g}!\b`,`${t} - P${e.amount.toLocaleString()}
`,`${g}!\0`,`Odds: x${e.odds}
`,`Potential Win: P${e.potential_payout.toLocaleString()}
`,`================================
`,`${g}a`,`OFFICIAL BETTING RECEIPT
`,`Keep this receipt
`,`


`,`${Y}VA\0`].join("");await this.write(r)}}const pe=new ye;export{B as W,me as a,z as h,ve as m,pe as t,ge as w};
