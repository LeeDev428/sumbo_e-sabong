import{c as H,r as h,j as t,a as $,H as I}from"./app-mridPMiH.js";import{A as P}from"./admin-layout-DPMPaH--.js";import"./app-r9e1jDlp.js";function K(D){const e=H.c(36),{users:b}=D;let y;e[0]!==b?(y=b===void 0?[]:b,e[0]=b,e[1]=y):y=e[1];const d=y,[E,_]=h.useState(!1),[A,M]=h.useState(!1),[n,R]=h.useState(null);let f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f={name:"",email:"",password:"",role:"teller"},e[2]=f):f=e[2];const[s,g]=h.useState(f);let j;e[3]===Symbol.for("react.memo_cache_sentinel")?(j={name:"",email:"",password:"",role:"teller"},e[3]=j):j=e[3];const[a,o]=h.useState(j),F=T;let N;e[4]!==s?(N=l=>{l.preventDefault(),$.post("/admin/users",s,{preserveScroll:!0,onSuccess:()=>{_(!1),g({name:"",email:"",password:"",role:"teller"})}})},e[4]=s,e[5]=N):N=e[5];const q=N;let v;e[6]===Symbol.for("react.memo_cache_sentinel")?(v=l=>{R(l),o({name:l.name,email:l.email,password:"",role:l.role}),M(!0)},e[6]=v):v=e[6];const z=v;let w;e[7]!==a||e[8]!==n?(w=l=>{l.preventDefault(),n&&$.put(`/admin/users/${n.id}`,a,{preserveScroll:!0,onSuccess:()=>{M(!1),R(null),o({name:"",email:"",password:"",role:"teller"})}})},e[7]=a,e[8]=n,e[9]=w):w=e[9];const L=w;let C;e[10]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(I,{title:"Users Management"}),e[10]=C):C=e[10];let S;e[11]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6 lg:mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-1 lg:mb-2",children:"Users Management"}),t.jsx("p",{className:"text-sm lg:text-base text-gray-400",children:"Manage system users and their roles"})]}),t.jsx("button",{onClick:()=>_(!0),className:"w-full sm:w-auto px-4 sm:px-6 py-2.5 sm:py-3 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium text-sm sm:text-base whitespace-nowrap",children:"+ Create New User"})]}),e[11]=S):S=e[11];let k;e[12]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx("thead",{className:"bg-gray-700",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"ID"}),t.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Name"}),t.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Email"}),t.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Role"}),t.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Created"}),t.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Actions"})]})}),e[12]=k):k=e[12];let i;if(e[13]!==d){let l;e[15]===Symbol.for("react.memo_cache_sentinel")?(l=r=>t.jsxs("tr",{className:"hover:bg-gray-750",children:[t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:r.id}),t.jsx("td",{className:"px-6 py-4 text-sm text-white font-medium",children:r.name}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-300",children:r.email}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${F(r.role)}`,children:r.role?.toUpperCase()||"N/A"})}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:new Date(r.created_at).toLocaleDateString()}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>z(r),className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded text-sm",children:"Edit"}),r.role!=="admin"&&t.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete this user?")&&$.delete(`/admin/users/${r.id}`)},className:"px-3 py-1 bg-red-600 hover:bg-red-700 rounded text-sm",children:"Delete"})]})})]},r.id),e[15]=l):l=e[15],i=d.map(l),e[13]=d,e[14]=i}else i=e[14];let m;e[16]!==i?(m=t.jsxs("table",{className:"w-full",children:[k,t.jsx("tbody",{className:"divide-y divide-gray-700",children:i})]}),e[16]=i,e[17]=m):m=e[17];let c;e[18]!==d.length?(c=d.length===0&&t.jsx("div",{className:"text-center py-12 text-gray-400",children:t.jsx("p",{children:"No users found"})}),e[18]=d.length,e[19]=c):c=e[19];let x;e[20]!==m||e[21]!==c?(x=t.jsxs("div",{className:"p-4 lg:p-8",children:[S,t.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg overflow-x-auto",children:[m,c]})]}),e[20]=m,e[21]=c,e[22]=x):x=e[22];let u;e[23]!==s||e[24]!==q||e[25]!==E?(u=E&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full border border-gray-700",children:[t.jsx("h3",{className:"text-xl font-bold mb-6",children:"Create New User"}),t.jsxs("form",{onSubmit:q,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name"}),t.jsx("input",{type:"text",value:s.name,onChange:l=>g({...s,name:l.target.value}),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),t.jsx("input",{type:"email",value:s.email,onChange:l=>g({...s,email:l.target.value}),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),t.jsx("input",{type:"password",value:s.password,onChange:l=>g({...s,password:l.target.value}),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",required:!0,minLength:8})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Role"}),t.jsxs("select",{value:s.role,onChange:l=>g({...s,role:l.target.value}),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",children:[t.jsx("option",{value:"teller",children:"Teller"}),t.jsx("option",{value:"declarator",children:"Declarator"}),t.jsx("option",{value:"admin",children:"Admin"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium",children:"Create User"}),t.jsx("button",{type:"button",onClick:()=>_(!1),className:"flex-1 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"Cancel"})]})]})]})}),e[23]=s,e[24]=q,e[25]=E,e[26]=u):u=e[26];let p;e[27]!==a||e[28]!==L||e[29]!==n||e[30]!==A?(p=A&&n&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full border border-gray-700",children:[t.jsx("h3",{className:"text-xl font-bold mb-6",children:"Edit User"}),t.jsxs("form",{onSubmit:L,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name"}),t.jsx("input",{type:"text",value:a.name,onChange:l=>o({...a,name:l.target.value}),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),t.jsx("input",{type:"email",value:a.email,onChange:l=>o({...a,email:l.target.value}),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password (leave blank to keep current)"}),t.jsx("input",{type:"password",value:a.password,onChange:l=>o({...a,password:l.target.value}),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",placeholder:"Leave blank to keep current password",minLength:8})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Role"}),t.jsxs("select",{value:a.role,onChange:l=>o({...a,role:l.target.value}),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",children:[t.jsx("option",{value:"teller",children:"Teller"}),t.jsx("option",{value:"declarator",children:"Declarator"}),t.jsx("option",{value:"admin",children:"Admin"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium",children:"Update User"}),t.jsx("button",{type:"button",onClick:()=>{M(!1),R(null)},className:"flex-1 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"Cancel"})]})]})]})}),e[27]=a,e[28]=L,e[29]=n,e[30]=A,e[31]=p):p=e[31];let U;return e[32]!==x||e[33]!==u||e[34]!==p?(U=t.jsxs(P,{children:[C,x,u,p]}),e[32]=x,e[33]=u,e[34]=p,e[35]=U):U=e[35],U}function T(D){switch(D){case"admin":return"bg-purple-600";case"declarator":return"bg-green-600";case"teller":return"bg-blue-600";default:return"bg-gray-600"}}export{K as default};
