import{c as V,r as B,j as t,a as z,H as G}from"./app-B185e_OM.js";import{T as J}from"./teller-layout-urN8pV4R.js";import"./app-CetDeDLX.js";function X(s){const e=V.c(52),{tellers:a,transfers:v,currentBalance:r}=s,[n,Y]=B.useState(""),[l,O]=B.useState(""),[c,U]=B.useState("");let N;e[0]!==l||e[1]!==r||e[2]!==c||e[3]!==n?(N=o=>{if(o.preventDefault(),!(!n||!l)){if(parseFloat(l)>r){alert("Insufficient balance!");return}z.post("/teller/cash-transfer",{to_teller_id:parseInt(n),amount:parseFloat(l),remarks:c},{onSuccess:()=>{Y(""),O(""),U("")}})}},e[0]=l,e[1]=r,e[2]=c,e[3]=n,e[4]=N):N=e[4];const D=N;let _;e[5]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx(G,{title:"Cash Transfer"}),e[5]=_):_=e[5];let S;e[6]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg p-4 mb-4 border border-gray-700",children:[t.jsx("h1",{className:"text-2xl font-bold text-orange-500",children:"Cash Transfer"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Transfer cash to other tellers"})]}),e[6]=S):S=e[6];let w;e[7]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx("div",{className:"text-sm text-green-300 mb-2",children:"Your Current Balance"}),e[7]=w):w=e[7];let i;e[8]!==r?(i=r.toLocaleString(),e[8]=r,e[9]=i):i=e[9];let d;e[10]!==i?(d=t.jsx("div",{className:"bg-gradient-to-r from-green-900/50 to-emerald-900/50 rounded-lg p-6 mb-4 border border-green-500/30",children:t.jsxs("div",{className:"text-center",children:[w,t.jsxs("div",{className:"text-5xl font-bold text-white",children:["â‚±",i]})]})}),e[10]=i,e[11]=d):d=e[11];let T;e[12]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Transfer Cash"}),e[12]=T):T=e[12];let C;e[13]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Transfer To"}),e[13]=C):C=e[13];let k;e[14]===Symbol.for("react.memo_cache_sentinel")?(k=o=>Y(o.target.value),e[14]=k):k=e[14];let E;e[15]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx("option",{value:"",children:"Select Teller"}),e[15]=E):E=e[15];let m;e[16]!==a?(m=a.map(M),e[16]=a,e[17]=m):m=e[17];let x;e[18]!==n||e[19]!==m?(x=t.jsxs("div",{children:[C,t.jsxs("select",{value:n,onChange:k,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white text-lg",required:!0,children:[E,m]})]}),e[18]=n,e[19]=m,e[20]=x):x=e[20];let F;e[21]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Amount (â‚±)"}),e[21]=F):F=e[21];let I;e[22]===Symbol.for("react.memo_cache_sentinel")?(I=o=>O(o.target.value),e[22]=I):I=e[22];let f,b;e[23]!==l||e[24]!==r?(f=t.jsx("input",{type:"number",value:l,onChange:I,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white text-2xl",step:"0.01",min:"0.01",max:r,required:!0}),b=parseFloat(l)>r&&t.jsx("p",{className:"text-red-400 text-sm mt-1",children:"Amount exceeds your balance!"}),e[23]=l,e[24]=r,e[25]=f,e[26]=b):(f=e[25],b=e[26]);let u;e[27]!==f||e[28]!==b?(u=t.jsxs("div",{children:[F,f,b]}),e[27]=f,e[28]=b,e[29]=u):u=e[29];let R;e[30]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Remarks (Optional)"}),e[30]=R):R=e[30];let $;e[31]===Symbol.for("react.memo_cache_sentinel")?($=o=>U(o.target.value),e[31]=$):$=e[31];let h;e[32]!==c?(h=t.jsxs("div",{children:[R,t.jsx("textarea",{value:c,onChange:$,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white",rows:3,placeholder:"e.g., Cash needed for betting"})]}),e[32]=c,e[33]=h):h=e[33];const H=!n||!l||parseFloat(l)>r,q=l||"0";let g;e[34]!==H||e[35]!==q?(g=t.jsxs("button",{type:"submit",disabled:H,className:"w-full px-6 py-4 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg font-bold text-xl",children:["Transfer â‚±",q]}),e[34]=H,e[35]=q,e[36]=g):g=e[36];let p;e[37]!==D||e[38]!==x||e[39]!==u||e[40]!==h||e[41]!==g?(p=t.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg p-6 mb-4 border border-gray-700",children:[T,t.jsxs("form",{onSubmit:D,className:"space-y-4",children:[x,u,h,g]})]}),e[37]=D,e[38]=x,e[39]=u,e[40]=h,e[41]=g,e[42]=p):p=e[42];let L;e[43]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx("div",{className:"p-4 border-b border-gray-700",children:t.jsx("h2",{className:"text-xl font-bold text-orange-500",children:"Your Transfer History"})}),e[43]=L):L=e[43];let y;e[44]!==v?(y=v.length===0?t.jsxs("div",{className:"p-8 text-center",children:[t.jsx("div",{className:"text-6xl mb-4",children:"ðŸ’¸"}),t.jsx("p",{className:"text-gray-400",children:"No transfers yet"})]}):v.map(K),e[44]=v,e[45]=y):y=e[45];let j;e[46]!==y?(j=t.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg overflow-hidden border border-gray-700",children:[L,t.jsx("div",{className:"divide-y divide-gray-700",children:y})]}),e[46]=y,e[47]=j):j=e[47];let A;return e[48]!==p||e[49]!==j||e[50]!==d?(A=t.jsxs(J,{children:[_,t.jsxs("div",{className:"p-4 max-w-2xl mx-auto",children:[S,d,p,j]})]}),e[48]=p,e[49]=j,e[50]=d,e[51]=A):A=e[51],A}function K(s){const e=window.authUserId,a=s.from_teller.id===e;return t.jsx("div",{className:"p-4 hover:bg-gray-800/50 transition-colors",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${a?"bg-red-600":"bg-green-600"}`,children:a?"SENT":"RECEIVED"}),t.jsx("span",{className:"text-white font-semibold",children:a?`To: ${s.to_teller.name}`:`From: ${s.from_teller.name}`})]}),t.jsx("div",{className:"text-sm text-gray-400 mt-1",children:new Date(s.created_at).toLocaleString()}),s.remarks&&t.jsx("div",{className:"text-sm text-gray-400 mt-1",children:s.remarks})]}),t.jsxs("div",{className:`text-2xl font-bold ${a?"text-red-400":"text-green-400"}`,children:[a?"-":"+","â‚±",s.amount.toLocaleString()]})]})},s.id)}function M(s){return t.jsxs("option",{value:s.id,children:[s.name," (",s.email,")"]},s.id)}export{X as default};
