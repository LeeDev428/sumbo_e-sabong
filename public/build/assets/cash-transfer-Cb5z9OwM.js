import{c as J,r as K,j as t,H as O,a as F}from"./app-CqUqRJ-k.js";import{D as Q}from"./declarator-layout-DRLq0P-I.js";import"./app-DbUdHGla.js";function se(r){const e=J.c(53),{pending:l,approved:n,allTransfers:i}=r,[a,$]=K.useState("pending"),q=Y,z=X,L=W,B=V;let N;e[0]===Symbol.for("react.memo_cache_sentinel")?(N=(s,M)=>{const G=M===void 0?!1:M;return t.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 hover:bg-gray-650 transition-colors",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("span",{className:"text-xl font-bold text-green-400",children:L(s.amount)}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${s.type==="initial_balance"?"bg-purple-600":"bg-blue-600"}`,children:s.type==="initial_balance"?"INITIAL":"TRANSFER"})]}),t.jsxs("div",{className:"text-sm space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-gray-400",children:"From:"}),t.jsx("span",{className:"font-medium",children:s.from_teller.name}),t.jsxs("span",{className:"text-xs text-gray-500",children:["(",s.from_teller.role,")"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-gray-400",children:"To:"}),t.jsx("span",{className:"font-medium",children:s.to_teller.name}),t.jsxs("span",{className:"text-xs text-gray-500",children:["(",s.to_teller.role,")"]})]}),s.remarks&&t.jsxs("div",{className:"flex items-start gap-2 mt-2",children:[t.jsx("span",{className:"text-gray-400",children:"Note:"}),t.jsx("span",{className:"text-gray-300 italic",children:s.remarks})]})]})]}),G&&t.jsxs("div",{className:"flex gap-2 ml-4",children:[t.jsx("button",{onClick:()=>q(s.id),className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg font-semibold text-sm",children:"âœ… Approve"}),t.jsx("button",{onClick:()=>z(s.id),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg font-semibold text-sm",children:"âŒ Reject"})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-2 border-t border-gray-600",children:[t.jsxs("span",{children:["ðŸ“… ",B(s.created_at)]}),s.approved_by&&t.jsxs("span",{children:["âœ“ Approved by: ",s.approved_by.name]})]})]},s.id)},e[0]=N):N=e[0];const D=N;let _;e[1]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx(O,{title:"Cash Transfer Monitoring - Declarator"}),e[1]=_):_=e[1];let w;e[2]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-2xl lg:text-3xl font-bold",children:"Cash Transfer Monitoring"}),t.jsx("p",{className:"text-sm lg:text-base text-gray-400",children:"Monitor, approve, and track cash transfers"})]}),e[2]=w):w=e[2];let A;e[3]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Pending Approval"}),e[3]=A):A=e[3];let c;e[4]!==l.length?(c=t.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[A,t.jsx("div",{className:"text-3xl font-bold text-yellow-400",children:l.length})]}),e[4]=l.length,e[5]=c):c=e[5];let T;e[6]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Approved Today"}),e[6]=T):T=e[6];let o;e[7]!==n.length?(o=t.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[T,t.jsx("div",{className:"text-3xl font-bold text-green-400",children:n.length})]}),e[7]=n.length,e[8]=o):o=e[8];let S;e[9]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Total Amount (Pending)"}),e[9]=S):S=e[9];let d;e[10]!==l?(d=L(l.reduce(U,0)),e[10]=l,e[11]=d):d=e[11];let m;e[12]!==d?(m=t.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[S,t.jsx("div",{className:"text-xl font-bold text-blue-400",children:d})]}),e[12]=d,e[13]=m):m=e[13];let x;e[14]!==m||e[15]!==c||e[16]!==o?(x=t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[c,o,m]}),e[14]=m,e[15]=c,e[16]=o,e[17]=x):x=e[17];let C;e[18]===Symbol.for("react.memo_cache_sentinel")?(C=()=>$("pending"),e[18]=C):C=e[18];const H=`flex-1 px-6 py-4 font-semibold transition-colors ${a==="pending"?"bg-yellow-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-750"}`;let h;e[19]!==l.length||e[20]!==H?(h=t.jsxs("button",{onClick:C,className:H,children:["â³ Pending (",l.length,")"]}),e[19]=l.length,e[20]=H,e[21]=h):h=e[21];let k;e[22]===Symbol.for("react.memo_cache_sentinel")?(k=()=>$("approved"),e[22]=k):k=e[22];const E=`flex-1 px-6 py-4 font-semibold transition-colors ${a==="approved"?"bg-green-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-750"}`;let g;e[23]!==n.length||e[24]!==E?(g=t.jsxs("button",{onClick:k,className:E,children:["âœ… Approved (",n.length,")"]}),e[23]=n.length,e[24]=E,e[25]=g):g=e[25];let P;e[26]===Symbol.for("react.memo_cache_sentinel")?(P=()=>$("all"),e[26]=P):P=e[26];const I=`flex-1 px-6 py-4 font-semibold transition-colors ${a==="all"?"bg-blue-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-750"}`;let p;e[27]!==i.length||e[28]!==I?(p=t.jsxs("button",{onClick:P,className:I,children:["ðŸ“‹ All Logs (",i.length,")"]}),e[27]=i.length,e[28]=I,e[29]=p):p=e[29];let f;e[30]!==h||e[31]!==g||e[32]!==p?(f=t.jsxs("div",{className:"flex border-b border-gray-700",children:[h,g,p]}),e[30]=h,e[31]=g,e[32]=p,e[33]=f):f=e[33];let b;e[34]!==a||e[35]!==l?(b=a==="pending"&&t.jsx("div",{children:l.length>0?t.jsx("div",{className:"space-y-4",children:l.map(s=>D(s,!0))}):t.jsx("div",{className:"text-center py-12 text-gray-400",children:"No pending cash transfers"})}),e[34]=a,e[35]=l,e[36]=b):b=e[36];let y;e[37]!==a||e[38]!==n?(y=a==="approved"&&t.jsx("div",{children:n.length>0?t.jsx("div",{className:"space-y-4",children:n.map(s=>D(s,!1))}):t.jsx("div",{className:"text-center py-12 text-gray-400",children:"No approved transfers yet"})}),e[37]=a,e[38]=n,e[39]=y):y=e[39];let j;e[40]!==a||e[41]!==i?(j=a==="all"&&t.jsx("div",{children:i.length>0?t.jsx("div",{className:"space-y-4",children:i.map(s=>D(s,!1))}):t.jsx("div",{className:"text-center py-12 text-gray-400",children:"No transfer logs available"})}),e[40]=a,e[41]=i,e[42]=j):j=e[42];let v;e[43]!==b||e[44]!==y||e[45]!==j?(v=t.jsxs("div",{className:"p-6",children:[b,y,j]}),e[43]=b,e[44]=y,e[45]=j,e[46]=v):v=e[46];let u;e[47]!==f||e[48]!==v?(u=t.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700",children:[f,v]}),e[47]=f,e[48]=v,e[49]=u):u=e[49];let R;return e[50]!==x||e[51]!==u?(R=t.jsxs(Q,{children:[_,w,x,u]}),e[50]=x,e[51]=u,e[52]=R):R=e[52],R}function U(r,e){return r+Number(e.amount)}function V(r){return new Date(r).toLocaleString("en-PH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function W(r){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(r)}function X(r){confirm("Reject and delete this cash transfer? This action cannot be undone.")&&F.delete(`/declarator/cash-transfer/${r}/reject`)}function Y(r){confirm("Approve this cash transfer?")&&F.post(`/declarator/cash-transfer/${r}/approve`)}export{se as default};
