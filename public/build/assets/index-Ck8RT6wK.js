import{c as _,r as y,j as e,a as m,H as S}from"./app-BVtecd6R.js";import{A as C}from"./admin-layout-BKNnHG3x.js";import{P as k}from"./pagination--OR-W7bv.js";import"./app-C4k-vPJh.js";function M(r){const t=_.c(25),{fights:l}=r,[a,f]=y.useState(null),[j,N]=y.useState(!1),w=A,v=L;let g;t[0]===Symbol.for("react.memo_cache_sentinel")?(g=(x,s)=>{m.post(`/admin/fights/${x}/status`,{status:s},{preserveScroll:!0,onSuccess:()=>{N(!1),f(null)}})},t[0]=g):g=t[0];const u=g;let p;t[1]===Symbol.for("react.memo_cache_sentinel")?(p=e.jsx(S,{title:"Fights Management"}),t[1]=p):p=t[1];let b;t[2]===Symbol.for("react.memo_cache_sentinel")?(b=e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6 lg:mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-1 lg:mb-2",children:"Fights Management"}),e.jsx("p",{className:"text-sm lg:text-base text-gray-400",children:"Manage and control all cockfighting events"})]}),e.jsx("button",{onClick:E,className:"w-full sm:w-auto px-4 sm:px-6 py-2.5 sm:py-3 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium text-sm sm:text-base whitespace-nowrap",children:"+ Create New Fight"})]}),t[2]=b):b=t[2];let n;if(t[3]!==l.data){let x;t[5]===Symbol.for("react.memo_cache_sentinel")?(x=s=>e.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4 sm:p-6 lg:p-8 hover:bg-gray-750 transition-colors",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-start justify-between gap-4 lg:gap-6",children:[e.jsxs("div",{className:"flex-1 w-full lg:w-auto",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 lg:gap-4 mb-3 lg:mb-4",children:[e.jsxs("div",{className:"text-2xl lg:text-3xl font-bold text-white",children:["#",s.fight_number]}),e.jsx("span",{className:`px-3 lg:px-4 py-1 rounded-full text-xs lg:text-sm font-medium ${w(s.status)}`,children:v(s.status)}),s.result&&e.jsxs("span",{className:"px-3 lg:px-4 py-1 bg-purple-600 rounded-full text-xs lg:text-sm font-medium",children:["Result: ",s.result.toUpperCase()]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 lg:gap-4 mb-4 lg:mb-6",children:[e.jsxs("div",{className:"bg-red-900/30 border border-red-700 rounded-lg p-3 lg:p-4",children:[e.jsx("div",{className:"text-xs text-red-300 mb-2",children:"MERON"}),e.jsx("div",{className:"text-sm lg:text-base font-bold text-white mb-2 truncate",children:s.meron_fighter}),e.jsxs("div",{className:"text-xl lg:text-2xl font-bold text-red-400",children:[s.meron_odds||"---","x"]})]}),e.jsxs("div",{className:"bg-green-900/30 border border-green-700 rounded-lg p-3 lg:p-4",children:[e.jsx("div",{className:"text-xs text-green-300 mb-2",children:"DRAW"}),e.jsx("div",{className:"text-sm lg:text-base font-bold text-white mb-2",children:"Match Draw"}),e.jsxs("div",{className:"text-xl lg:text-2xl font-bold text-green-400",children:[s.draw_odds||"---","x"]})]}),e.jsxs("div",{className:"bg-blue-900/30 border border-blue-700 rounded-lg p-3 lg:p-4",children:[e.jsx("div",{className:"text-xs text-blue-300 mb-2",children:"WALA"}),e.jsx("div",{className:"text-sm lg:text-base font-bold text-white mb-2 truncate",children:s.wala_fighter}),e.jsxs("div",{className:"text-xl lg:text-2xl font-bold text-blue-400",children:[s.wala_odds||"---","x"]})]}),e.jsx("div",{className:"flex items-center justify-center col-span-2 sm:col-span-1",children:e.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-gray-600",children:"VS"})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-6 text-xs lg:text-sm text-gray-400",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Created:"})," ",e.jsx("span",{className:"block sm:inline",children:new Date(s.created_at).toLocaleString()})]}),s.scheduled_at&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Scheduled:"})," ",e.jsx("span",{className:"block sm:inline",children:new Date(s.scheduled_at).toLocaleString()})]})]})]}),e.jsxs("div",{className:"flex flex-row lg:flex-col gap-2 lg:gap-3 w-full lg:w-auto lg:min-w-[160px]",children:[e.jsx("button",{onClick:()=>{f(s),N(!0)},className:"flex-1 lg:flex-none px-3 lg:px-4 py-2 lg:py-2.5 bg-gray-700 hover:bg-gray-600 rounded-lg text-xs lg:text-sm font-medium whitespace-nowrap",children:"Change Status"}),e.jsx("button",{onClick:()=>m.visit(`/admin/fights/${s.id}/edit`),className:"flex-1 lg:flex-none px-3 lg:px-4 py-2 lg:py-2.5 bg-blue-700 hover:bg-blue-600 rounded-lg text-xs lg:text-sm font-medium whitespace-nowrap",children:"Edit Details"}),e.jsx("button",{onClick:()=>m.visit(`/admin/fights/${s.id}`),className:"flex-1 lg:flex-none px-3 lg:px-4 py-2 lg:py-2.5 bg-purple-700 hover:bg-purple-600 rounded-lg text-xs lg:text-sm font-medium whitespace-nowrap",children:"View"}),s.status==="closed"&&!s.result&&e.jsx("button",{onClick:()=>m.visit(`/admin/fights/${s.id}/declare-result`),className:"flex-1 lg:flex-none px-3 lg:px-4 py-2 lg:py-2.5 bg-green-700 hover:bg-green-600 rounded-lg text-xs lg:text-sm font-medium whitespace-nowrap",children:"Declare Result"})]})]})},s.id),t[5]=x):x=t[5],n=l.data.map(x),t[3]=l.data,t[4]=n}else n=t[4];let d;t[6]!==l.data.length?(d=l.data.length===0&&e.jsxs("div",{className:"text-center py-12 text-gray-400",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸŽ®"}),e.jsx("p",{className:"text-xl font-medium mb-2",children:"No fights yet"}),e.jsx("p",{className:"text-sm",children:"Create your first fight to get started"})]}),t[6]=l.data.length,t[7]=d):d=t[7];let c;t[8]!==l.current_page||t[9]!==l.from||t[10]!==l.last_page||t[11]!==l.links||t[12]!==l.to||t[13]!==l.total?(c=e.jsx(k,{currentPage:l.current_page,lastPage:l.last_page,from:l.from,to:l.to,total:l.total,links:l.links}),t[8]=l.current_page,t[9]=l.from,t[10]=l.last_page,t[11]=l.links,t[12]=l.to,t[13]=l.total,t[14]=c):c=t[14];let i;t[15]!==n||t[16]!==d||t[17]!==c?(i=e.jsxs("div",{className:"p-4 lg:p-8",children:[b,e.jsxs("div",{className:"grid gap-4 lg:gap-6",children:[n,d,c]})]}),t[15]=n,t[16]=d,t[17]=c,t[18]=i):i=t[18];let o;t[19]!==a||t[20]!==j?(o=j&&a&&e.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full border border-gray-700",children:[e.jsxs("h3",{className:"text-xl font-bold mb-4",children:["Change Status - Fight #",a.fight_number]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("button",{onClick:()=>u(a.id,"standby"),disabled:a.status==="standby",className:"w-full px-4 py-3 bg-gray-600 hover:bg-gray-700 rounded-lg text-left font-medium disabled:opacity-50",children:"â¸ï¸ STANDBY"}),e.jsx("button",{onClick:()=>u(a.id,"open"),disabled:a.status==="open",className:"w-full px-4 py-3 bg-green-600 hover:bg-green-700 rounded-lg text-left font-medium disabled:opacity-50",children:"âœ… OPEN BETTING"}),e.jsx("button",{onClick:()=>u(a.id,"lastcall"),disabled:a.status==="lastcall",className:"w-full px-4 py-3 bg-yellow-600 hover:bg-yellow-700 rounded-lg text-left font-medium disabled:opacity-50",children:"âš ï¸ LAST CALL"}),e.jsx("button",{onClick:()=>u(a.id,"closed"),disabled:a.status==="closed",className:"w-full px-4 py-3 bg-red-600 hover:bg-red-700 rounded-lg text-left font-medium disabled:opacity-50",children:"ðŸ”’ CLOSE BETTING"})]}),e.jsx("button",{onClick:()=>{N(!1),f(null)},className:"w-full px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"Cancel"})]})}),t[19]=a,t[20]=j,t[21]=o):o=t[21];let h;return t[22]!==i||t[23]!==o?(h=e.jsxs(C,{children:[p,i,o]}),t[22]=i,t[23]=o,t[24]=h):h=t[24],h}function E(){return m.visit("/admin/fights/create")}function L(r){switch(r){case"standby":return"STANDBY";case"open":return"BETTING OPEN";case"lastcall":return"LAST CALL";case"closed":return"BETTING CLOSED";case"result_declared":return"RESULT DECLARED";case"cancelled":return"CANCELLED";default:return r.toUpperCase()}}function A(r){switch(r){case"standby":return"bg-gray-600";case"open":return"bg-green-600";case"lastcall":return"bg-yellow-600";case"closed":return"bg-red-600";case"result_declared":return"bg-blue-600";case"cancelled":return"bg-gray-500";default:return"bg-gray-600"}}export{M as default};
