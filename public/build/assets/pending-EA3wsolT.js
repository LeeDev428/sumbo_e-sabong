import{c as R,r as v,j as e,a as D,H as k}from"./app-CbIbn4Ys.js";import{D as _}from"./declarator-layout-Bl0m-ehw.js";import"./app-DYXMlGDN.js";function F(y){const s=R.c(21),{pending_fights:c}=y;let o;s[0]!==c?(o=c===void 0?[]:c,s[0]=c,s[1]=o):o=s[1];const x=o,[a,j]=v.useState(null),[l,r]=v.useState(""),[p,N]=v.useState(!1);let g;s[2]!==l||s[3]!==a?(g=()=>{a&&l&&D.post(`/declarator/declare/${a.id}`,{result:l},{onSuccess:()=>{N(!1),j(null),r("")}})},s[2]=l,s[3]=a,s[4]=g):g=s[4];const w=g;let m;s[5]===Symbol.for("react.memo_cache_sentinel")?(m=t=>{j(t),r(""),N(!0)},s[5]=m):m=s[5];const C=m,S=A;let b,h;s[6]===Symbol.for("react.memo_cache_sentinel")?(b=e.jsx(k,{title:"Pending Results"}),h=e.jsx("br",{}),s[6]=b,s[7]=h):(b=s[6],h=s[7]);let u;s[8]===Symbol.for("react.memo_cache_sentinel")?(u=e.jsxs("div",{className:"mb-6 lg:mb-8",children:[e.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Pending Results"}),e.jsx("p",{className:"text-sm lg:text-base text-gray-400",children:"Declare results for closed fights"})]}),s[8]=u):u=s[8];let n;s[9]!==x?(n=x.length===0?e.jsx("div",{className:"col-span-full bg-gray-800 rounded-lg p-12 text-center",children:e.jsx("p",{className:"text-gray-400 text-lg",children:"No pending fights to declare"})}):x.map(t=>e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 lg:p-6 hover:bg-gray-700 transition",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h3",{className:"text-lg lg:text-xl font-bold text-white",children:t.fight_number}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold text-white ${S(t.status)}`,children:t.status.toUpperCase()})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:"MERON"}),e.jsx("span",{className:"text-red-400 font-bold text-lg",children:t.meron_fighter})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Odds"}),e.jsx("span",{className:"text-white font-semibold",children:t.meron_odds?Number(t.meron_odds).toFixed(2):"N/A"})]}),e.jsx("div",{className:"border-t border-gray-700 my-2"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:"WALA"}),e.jsx("span",{className:"text-blue-400 font-bold text-lg",children:t.wala_fighter})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Odds"}),e.jsx("span",{className:"text-white font-semibold",children:t.wala_odds?Number(t.wala_odds).toFixed(2):"N/A"})]})]}),e.jsxs("div",{className:"text-gray-400 text-sm mb-4",children:["Scheduled: ",new Date(t.scheduled_at).toLocaleString()]}),t.status==="closed"?e.jsx("button",{onClick:()=>C(t),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-semibold transition",children:"Declare Result"}):e.jsx("div",{className:"w-full bg-gray-700 text-gray-400 py-3 rounded-lg text-center font-semibold",children:"Waiting to Close"})]},t.id)),s[9]=x,s[10]=n):n=s[10];let d;s[11]!==n?(d=e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 lg:gap-6",children:n}),s[11]=n,s[12]=d):d=s[12];let i;s[13]!==w||s[14]!==l||s[15]!==a||s[16]!==p?(i=p&&a&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Declare Result"}),e.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg mb-6",children:[e.jsxs("p",{className:"text-gray-400 text-sm mb-2",children:["Fight #",a.fight_number]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-red-400 font-bold",children:a.meron_fighter}),e.jsx("span",{className:"text-gray-500",children:"vs"}),e.jsx("span",{className:"text-blue-400 font-bold",children:a.wala_fighter})]})]}),e.jsx("p",{className:"text-gray-300 mb-4 font-semibold",children:"Select the winner:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[e.jsx("button",{onClick:()=>r("meron"),className:`py-4 rounded-lg font-bold transition ${l==="meron"?"bg-red-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:"MERON"}),e.jsx("button",{onClick:()=>r("wala"),className:`py-4 rounded-lg font-bold transition ${l==="wala"?"bg-blue-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:"WALA"}),e.jsx("button",{onClick:()=>r("draw"),className:`py-4 rounded-lg font-bold transition ${l==="draw"?"bg-green-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:"DRAW"}),e.jsx("button",{onClick:()=>r("cancelled"),className:`py-4 rounded-lg font-bold transition ${l==="cancelled"?"bg-gray-500 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:"CANCEL"})]}),e.jsx("div",{className:"bg-yellow-900/30 border border-yellow-600 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-yellow-400 text-sm",children:"⚠️ This action is irreversible! Make sure you declare the correct result."})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{N(!1),j(null),r("")},className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white py-3 rounded-lg font-semibold transition",children:"Cancel"}),e.jsx("button",{onClick:w,disabled:!l,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-700 disabled:text-gray-500 text-white py-3 rounded-lg font-semibold transition",children:"Confirm Declaration"})]})]})}),s[13]=w,s[14]=l,s[15]=a,s[16]=p,s[17]=i):i=s[17];let f;return s[18]!==i||s[19]!==d?(f=e.jsxs(_,{children:[b,h,u,d,i]}),s[18]=i,s[19]=d,s[20]=f):f=s[20],f}function A(y){switch(y){case"open":return"bg-green-600";case"lastcall":return"bg-yellow-600";case"closed":return"bg-red-600";default:return"bg-gray-600"}}export{F as default};
