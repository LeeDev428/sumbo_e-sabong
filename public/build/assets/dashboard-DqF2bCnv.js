import{c as T,r as k,j as e,a as O,H as W}from"./app-B185e_OM.js";import{D as H}from"./declarator-layout-CGZMFlkC.js";import"./app-CetDeDLX.js";function K(l){const s=T.c(32),{fights:L}=l,x=L===void 0?[]:L,[S,n]=k.useState(!1),[t,c]=k.useState(null),[r,a]=k.useState(null),A=x.filter(B),E=x.filter(z).length;let m;s[0]!==r||s[1]!==t||s[2]!==a||s[3]!==c||s[4]!==n?(m=()=>{!t||!r||O.post("/declarator/results",{fight_id:t.id,result:r},{onSuccess:()=>{n(!1),c(null),a(null)}})},s[0]=r,s[1]=t,s[2]=a,s[3]=c,s[4]=n,s[5]=m):m=s[5];const R=m;let g,b;s[6]===Symbol.for("react.memo_cache_sentinel")?(g=e.jsx(W,{title:"Declarator Dashboard"}),b=e.jsx("br",{}),s[6]=g,s[7]=b):(g=s[6],b=s[7]);let h;s[8]===Symbol.for("react.memo_cache_sentinel")?(h=e.jsxs("div",{className:"mb-6 lg:mb-8",children:[e.jsx("h1",{className:"text-2xl lg:text-3xl font-bold",children:"Declarator Dashboard"}),e.jsx("p",{className:"text-sm lg:text-base text-gray-400",children:"Declare fight results and manage outcomes"})]}),s[8]=h):h=s[8];let u;s[9]===Symbol.for("react.memo_cache_sentinel")?(u=e.jsx("div",{className:"text-xs lg:text-sm text-gray-400 mb-2",children:"Pending Results"}),s[9]=u):u=s[9];let N;s[10]===Symbol.for("react.memo_cache_sentinel")?(N=e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Fights awaiting declaration"}),s[10]=N):N=s[10];let f;s[11]===Symbol.for("react.memo_cache_sentinel")?(f=e.jsx("div",{className:"text-xs lg:text-sm text-gray-400 mb-2",children:"Declared Today"}),s[11]=f):f=s[11];let y;s[12]===Symbol.for("react.memo_cache_sentinel")?(y=e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Results declared today"}),s[12]=y):y=s[12];let j;s[13]===Symbol.for("react.memo_cache_sentinel")?(j=e.jsx("div",{className:"text-xs lg:text-sm text-gray-400 mb-2",children:"Total Fights"}),s[13]=j):j=s[13];let p;s[14]===Symbol.for("react.memo_cache_sentinel")?(p=e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"All fight events"}),s[14]=p):p=s[14];let v;s[15]===Symbol.for("react.memo_cache_sentinel")?(v=e.jsxs("div",{className:"p-4 lg:p-6 border-b border-gray-700",children:[e.jsx("h2",{className:"text-lg lg:text-xl font-bold",children:"Pending Declarations"}),e.jsx("p",{className:"text-xs lg:text-sm text-gray-400",children:"Fights with closed betting awaiting result declaration"})]}),s[15]=v):v=s[15];const C=A.length>0?e.jsx("div",{className:"space-y-4",children:A.map(d=>e.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 flex items-center justify-between hover:bg-gray-600 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("span",{className:"font-bold text-lg",children:["Fight #",d.fight_number]}),e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-yellow-600",children:"â±ï¸ AWAITING RESULT"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm mb-2",children:[e.jsxs("span",{className:"text-red-400 font-medium",children:["MERON: ",d.meron_fighter," (",d.meron_odds||"N/A",")"]}),e.jsx("span",{className:"text-gray-500",children:"vs"}),e.jsxs("span",{className:"text-blue-400 font-medium",children:["WALA: ",d.wala_fighter," (",d.wala_odds||"N/A",")"]})]}),d.betting_closed_at&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Betting closed: ",new Date(d.betting_closed_at).toLocaleString()]})]}),e.jsx("button",{onClick:()=>{c(d),n(!0)},className:"px-6 py-3 bg-green-600 hover:bg-green-700 rounded-lg font-semibold",children:"ðŸ† Declare Result"})]},d.id))}):e.jsx("div",{className:"text-center py-12 text-gray-400",children:"No pending declarations. All fights have been processed."});let _;s[16]!==C?(_=e.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700",children:[v,e.jsx("div",{className:"p-4 lg:p-6",children:C})]}),s[16]=C,s[17]=_):_=s[17];const $="mt-8 bg-gray-800 rounded-lg border border-gray-700";let i;s[18]===Symbol.for("react.memo_cache_sentinel")?(i=e.jsxs("div",{className:"p-6 border-b border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Recent Declarations"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Latest declared fight results"})]}),s[18]=i):i=s[18];const M="p-6",F=x.filter(U).length>0?e.jsx("div",{className:"space-y-3",children:x.filter(P).slice(0,5).map(I)}):e.jsx("div",{className:"text-center py-8 text-gray-400",children:"No declared results yet"});let o;s[19]!==F?(o=e.jsx("div",{className:M,children:F}),s[19]=F,s[20]=o):o=s[20];let w;s[21]!==i||s[22]!==o?(w=e.jsxs("div",{className:$,children:[i,o]}),s[21]=i,s[22]=o,s[23]=w):w=s[23];let D;return s[24]!==R||s[25]!==r||s[26]!==t||s[27]!==a||s[28]!==c||s[29]!==n||s[30]!==S?(D=S&&t&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-gray-800 rounded-lg max-w-2xl w-full",children:[e.jsxs("div",{className:"p-6 border-b border-gray-700",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Declare Fight Result"}),e.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Fight #",t.fight_number,": ",t.meron_fighter," vs ",t.wala_fighter]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("button",{onClick:()=>a("meron"),className:`p-8 rounded-lg border-2 transition-all ${r==="meron"?"bg-red-600 border-red-400 scale-105":"bg-gray-700 border-gray-600 hover:border-red-400"}`,children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:"MERON"}),e.jsx("div",{className:"text-sm",children:t.meron_fighter}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Odds: ",t.meron_odds||"N/A"]})]}),e.jsxs("button",{onClick:()=>a("wala"),className:`p-8 rounded-lg border-2 transition-all ${r==="wala"?"bg-blue-600 border-blue-400 scale-105":"bg-gray-700 border-gray-600 hover:border-blue-400"}`,children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:"WALA"}),e.jsx("div",{className:"text-sm",children:t.wala_fighter}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Odds: ",t.wala_odds||"N/A"]})]}),e.jsxs("button",{onClick:()=>a("draw"),className:`p-8 rounded-lg border-2 transition-all ${r==="draw"?"bg-green-600 border-green-400 scale-105":"bg-gray-700 border-gray-600 hover:border-green-400"}`,children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:"DRAW"}),e.jsx("div",{className:"text-sm",children:"Match Draw"})]}),e.jsxs("button",{onClick:()=>a("cancelled"),className:`p-8 rounded-lg border-2 transition-all ${r==="cancelled"?"bg-gray-600 border-gray-400 scale-105":"bg-gray-700 border-gray-600 hover:border-gray-400"}`,children:[e.jsx("div",{className:"text-3xl font-bold mb-2",children:"CANCEL"}),e.jsx("div",{className:"text-sm",children:"Cancelled Fight"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:R,disabled:!r,className:`flex-1 py-4 rounded-lg font-bold text-lg ${r?"bg-green-600 hover:bg-green-700":"bg-gray-600 cursor-not-allowed"}`,children:"âœ… Confirm Declaration"}),e.jsx("button",{onClick:()=>{n(!1),c(null),a(null)},className:"px-6 py-4 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold",children:"Cancel"})]})]})]})}),s[24]=R,s[25]=r,s[26]=t,s[27]=a,s[28]=c,s[29]=n,s[30]=S,s[31]=D):D=s[31],e.jsxs(H,{children:[g,b,h,e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6 mb-6 lg:mb-8",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 lg:p-6 border border-gray-700",children:[u,e.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-yellow-400",children:A.length}),N]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 lg:p-6 border border-gray-700",children:[f,e.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-green-400",children:E}),y]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 lg:p-6 border border-gray-700",children:[j,e.jsx("div",{className:"text-3xl lg:text-4xl font-bold",children:x.length}),p]})]}),_,w,D]})}function I(l){return e.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("span",{className:"font-semibold",children:["Fight #",l.fight_number]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${l.result==="meron"?"bg-red-600":l.result==="wala"?"bg-blue-600":l.result==="draw"?"bg-green-600":"bg-gray-600"}`,children:l.result?.toUpperCase()||"N/A"})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:[l.meron_fighter," vs ",l.wala_fighter]})]}),l.declared_at&&e.jsx("div",{className:"text-xs text-gray-500",children:new Date(l.declared_at).toLocaleString()})]},l.id)}function P(l){return l.result}function U(l){return l.result}function z(l){return l.declared_by}function B(l){return l.status==="betting_closed"}export{K as default};
