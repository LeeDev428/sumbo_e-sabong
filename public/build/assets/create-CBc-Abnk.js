import{c as Le,r as Ae,j as l,b as Me,a as Ee,H as We}from"./app-Bn285p6Y.js";import{A as Be}from"./admin-layout-C9mjZlSe.js";import"./app-DbUdHGla.js";function Qe(r){const e=Le.c(158),{nextFightNumber:De}=r;let P;e[0]===Symbol.for("react.memo_cache_sentinel")?(P=[],e[0]=P):P=e[0];const[,Te]=Ae.useState(P);let Q;e[1]===Symbol.for("react.memo_cache_sentinel")?(Q=[],e[1]=Q):Q=e[1];const[n]=Ae.useState(Q);let U;e[2]!==De?(U={fight_number:De,meron_fighter:"",wala_fighter:"",meron_odds:"1.0",wala_odds:"1.0",draw_odds:"9.0",auto_odds:!0,scheduled_at:"",revolving_funds:"0",notes:"",venue:"",event_name:"",event_date:"",commission_percentage:"7.5",round_number:"",match_type:"regular",special_conditions:""},e[2]=De,e[3]=U):U=e[3];const[t,a]=Ae.useState(U);let X,Y;e[4]===Symbol.for("react.memo_cache_sentinel")?(X=()=>{Me.get("/admin/api/tellers").then(s=>Te(s.data)).catch(ze)},Y=[],e[4]=X,e[5]=Y):(X=e[4],Y=e[5]),Ae.useEffect(X,Y);let Z;e[6]!==n?(Z=()=>n.reduce(Ve,0),e[6]=n,e[7]=Z):Z=e[7];const o=Z;let ee;e[8]!==t.revolving_funds||e[9]!==o?(ee=()=>parseFloat(t.revolving_funds||"0")-o(),e[8]=t.revolving_funds,e[9]=o,e[10]=ee):ee=e[10];const Re=ee;let te;e[11]!==t||e[12]!==Re||e[13]!==o||e[14]!==n?(te=s=>{if(s.preventDefault(),Re()<0){alert(`Total assignments (â‚±${o().toLocaleString()}) exceed revolving funds (â‚±${parseFloat(t.revolving_funds).toLocaleString()})`);return}Ee.post("/admin/fights",{...t,teller_assignments:n.filter(Ie)},{onSuccess:He})},e[11]=t,e[12]=Re,e[13]=o,e[14]=n,e[15]=te):te=e[15];const Oe=te;let le;e[16]===Symbol.for("react.memo_cache_sentinel")?(le=l.jsx(We,{title:"Create Fight - Admin"}),e[16]=le):le=e[16];let se;e[17]===Symbol.for("react.memo_cache_sentinel")?(se=l.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Create New Fight"}),l.jsx("p",{className:"text-gray-400",children:"Add a new fight to the system"})]}),l.jsx("button",{type:"button",onClick:qe,className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold",children:"â† Back to Dashboard"})]}),e[17]=se):se=e[17];let ae;e[18]===Symbol.for("react.memo_cache_sentinel")?(ae=l.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Basic Information"}),e[18]=ae):ae=e[18];let re;e[19]===Symbol.for("react.memo_cache_sentinel")?(re=l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Fight Number"}),e[19]=re):re=e[19];let i;e[20]!==t.fight_number?(i=l.jsxs("div",{children:[re,l.jsx("input",{type:"number",value:t.fight_number,readOnly:!0,className:"w-full px-4 py-2 bg-gray-600 border border-gray-600 rounded-lg text-gray-300 cursor-not-allowed"})]}),e[20]=t.fight_number,e[21]=i):i=e[21];let ne;e[22]===Symbol.for("react.memo_cache_sentinel")?(ne=l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Scheduled Date/Time"}),e[22]=ne):ne=e[22];let d;e[23]!==t?(d=s=>a({...t,scheduled_at:s.target.value}),e[23]=t,e[24]=d):d=e[24];let c;e[25]!==t.scheduled_at||e[26]!==d?(c=l.jsxs("div",{children:[ne,l.jsx("input",{type:"datetime-local",value:t.scheduled_at,onChange:d,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e[25]=t.scheduled_at,e[26]=d,e[27]=c):c=e[27];let m;e[28]!==i||e[29]!==c?(m=l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i,c]}),e[28]=i,e[29]=c,e[30]=m):m=e[30];let oe;e[31]===Symbol.for("react.memo_cache_sentinel")?(oe=l.jsx("label",{className:"block text-sm font-medium mb-2 text-red-400",children:"MERON Fighter *"}),e[31]=oe):oe=e[31];let u;e[32]!==t?(u=s=>a({...t,meron_fighter:s.target.value}),e[32]=t,e[33]=u):u=e[33];let g;e[34]!==t.meron_fighter||e[35]!==u?(g=l.jsxs("div",{children:[oe,l.jsx("input",{type:"text",value:t.meron_fighter,onChange:u,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-red-500",required:!0})]}),e[34]=t.meron_fighter,e[35]=u,e[36]=g):g=e[36];let ie;e[37]===Symbol.for("react.memo_cache_sentinel")?(ie=l.jsx("label",{className:"block text-sm font-medium mb-2 text-blue-400",children:"WALA Fighter *"}),e[37]=ie):ie=e[37];let f;e[38]!==t?(f=s=>a({...t,wala_fighter:s.target.value}),e[38]=t,e[39]=f):f=e[39];let b;e[40]!==t.wala_fighter||e[41]!==f?(b=l.jsxs("div",{children:[ie,l.jsx("input",{type:"text",value:t.wala_fighter,onChange:f,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e[40]=t.wala_fighter,e[41]=f,e[42]=b):b=e[42];let h;e[43]!==g||e[44]!==b?(h=l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g,b]}),e[43]=g,e[44]=b,e[45]=h):h=e[45];let de;e[46]===Symbol.for("react.memo_cache_sentinel")?(de=l.jsx("label",{className:"block text-sm font-medium mb-2 text-red-400",children:"MERON Odds"}),e[46]=de):de=e[46];let x;e[47]!==t?(x=s=>a({...t,meron_odds:s.target.value}),e[47]=t,e[48]=x):x=e[48];let _;e[49]!==t.auto_odds||e[50]!==t.meron_odds||e[51]!==x?(_=l.jsxs("div",{children:[de,l.jsx("input",{type:"number",step:"0.01",value:t.meron_odds,onChange:x,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg",disabled:t.auto_odds})]}),e[49]=t.auto_odds,e[50]=t.meron_odds,e[51]=x,e[52]=_):_=e[52];let ce;e[53]===Symbol.for("react.memo_cache_sentinel")?(ce=l.jsx("label",{className:"block text-sm font-medium mb-2 text-green-400",children:"DRAW Odds"}),e[53]=ce):ce=e[53];let p;e[54]!==t?(p=s=>a({...t,draw_odds:s.target.value}),e[54]=t,e[55]=p):p=e[55];let y;e[56]!==t.auto_odds||e[57]!==t.draw_odds||e[58]!==p?(y=l.jsxs("div",{children:[ce,l.jsx("input",{type:"number",step:"0.01",value:t.draw_odds,onChange:p,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg",disabled:t.auto_odds})]}),e[56]=t.auto_odds,e[57]=t.draw_odds,e[58]=p,e[59]=y):y=e[59];let me;e[60]===Symbol.for("react.memo_cache_sentinel")?(me=l.jsx("label",{className:"block text-sm font-medium mb-2 text-blue-400",children:"WALA Odds"}),e[60]=me):me=e[60];let v;e[61]!==t?(v=s=>a({...t,wala_odds:s.target.value}),e[61]=t,e[62]=v):v=e[62];let j;e[63]!==t.auto_odds||e[64]!==t.wala_odds||e[65]!==v?(j=l.jsxs("div",{children:[me,l.jsx("input",{type:"number",step:"0.01",value:t.wala_odds,onChange:v,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg",disabled:t.auto_odds})]}),e[63]=t.auto_odds,e[64]=t.wala_odds,e[65]=v,e[66]=j):j=e[66];let N;e[67]!==_||e[68]!==y||e[69]!==j?(N=l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[_,y,j]}),e[67]=_,e[68]=y,e[69]=j,e[70]=N):N=e[70];let w;e[71]!==t?(w=s=>a({...t,auto_odds:s.target.checked}),e[71]=t,e[72]=w):w=e[72];let S;e[73]!==t.auto_odds||e[74]!==w?(S=l.jsx("input",{type:"checkbox",checked:t.auto_odds,onChange:w,className:"w-4 h-4"}),e[73]=t.auto_odds,e[74]=w,e[75]=S):S=e[75];let ue;e[76]===Symbol.for("react.memo_cache_sentinel")?(ue=l.jsx("label",{className:"text-sm",children:"Auto-calculate odds based on bet amounts"}),e[76]=ue):ue=e[76];let C;e[77]!==S?(C=l.jsxs("div",{className:"flex items-center gap-2",children:[S,ue]}),e[77]=S,e[78]=C):C=e[78];let k;e[79]!==m||e[80]!==h||e[81]!==N||e[82]!==C?(k=l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 space-y-4",children:[ae,m,h,N,C]}),e[79]=m,e[80]=h,e[81]=N,e[82]=C,e[83]=k):k=e[83];let ge;e[84]===Symbol.for("react.memo_cache_sentinel")?(ge=l.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"ðŸ“º Big Screen Display Information"}),e[84]=ge):ge=e[84];let fe;e[85]===Symbol.for("react.memo_cache_sentinel")?(fe=l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Event Name"}),e[85]=fe):fe=e[85];let F;e[86]!==t?(F=s=>a({...t,event_name:s.target.value}),e[86]=t,e[87]=F):F=e[87];let A;e[88]!==t.event_name||e[89]!==F?(A=l.jsxs("div",{children:[fe,l.jsx("input",{type:"text",value:t.event_name,onChange:F,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg",placeholder:"e.g., Championship 2026"})]}),e[88]=t.event_name,e[89]=F,e[90]=A):A=e[90];let be;e[91]===Symbol.for("react.memo_cache_sentinel")?(be=l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Event Date"}),e[91]=be):be=e[91];let E;e[92]!==t?(E=s=>a({...t,event_date:s.target.value}),e[92]=t,e[93]=E):E=e[93];let D;e[94]!==t.event_date||e[95]!==E?(D=l.jsxs("div",{children:[be,l.jsx("input",{type:"date",value:t.event_date,onChange:E,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg"})]}),e[94]=t.event_date,e[95]=E,e[96]=D):D=e[96];let R;e[97]!==A||e[98]!==D?(R=l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A,D]}),e[97]=A,e[98]=D,e[99]=R):R=e[99];let he;e[100]===Symbol.for("react.memo_cache_sentinel")?(he=l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Venue"}),e[100]=he):he=e[100];let O;e[101]!==t?(O=s=>a({...t,venue:s.target.value}),e[101]=t,e[102]=O):O=e[102];let T;e[103]!==t.venue||e[104]!==O?(T=l.jsxs("div",{children:[he,l.jsx("input",{type:"text",value:t.venue,onChange:O,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg",placeholder:"e.g., Manila Cockpit Arena"})]}),e[103]=t.venue,e[104]=O,e[105]=T):T=e[105];let xe;e[106]===Symbol.for("react.memo_cache_sentinel")?(xe=l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Commission %"}),e[106]=xe):xe=e[106];let L;e[107]!==t?(L=s=>a({...t,commission_percentage:s.target.value}),e[107]=t,e[108]=L):L=e[108];let M;e[109]!==t.commission_percentage||e[110]!==L?(M=l.jsxs("div",{children:[xe,l.jsx("input",{type:"number",step:"0.1",value:t.commission_percentage,onChange:L,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg"})]}),e[109]=t.commission_percentage,e[110]=L,e[111]=M):M=e[111];let W;e[112]!==T||e[113]!==M?(W=l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T,M]}),e[112]=T,e[113]=M,e[114]=W):W=e[114];let _e;e[115]===Symbol.for("react.memo_cache_sentinel")?(_e=l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Round Number"}),e[115]=_e):_e=e[115];let B;e[116]!==t?(B=s=>a({...t,round_number:s.target.value}),e[116]=t,e[117]=B):B=e[117];let $;e[118]!==t.round_number||e[119]!==B?($=l.jsxs("div",{children:[_e,l.jsx("input",{type:"number",value:t.round_number,onChange:B,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg",placeholder:"e.g., 1, 2, 3..."})]}),e[118]=t.round_number,e[119]=B,e[120]=$):$=e[120];let pe;e[121]===Symbol.for("react.memo_cache_sentinel")?(pe=l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Match Type"}),e[121]=pe):pe=e[121];let q;e[122]!==t?(q=s=>a({...t,match_type:s.target.value}),e[122]=t,e[123]=q):q=e[123];let ye,ve,je,Ne,we;e[124]===Symbol.for("react.memo_cache_sentinel")?(ye=l.jsx("option",{value:"regular",children:"Regular"}),ve=l.jsx("option",{value:"derby",children:"Derby"}),je=l.jsx("option",{value:"tournament",children:"Tournament"}),Ne=l.jsx("option",{value:"championship",children:"Championship"}),we=l.jsx("option",{value:"special",children:"Special Event"}),e[124]=ye,e[125]=ve,e[126]=je,e[127]=Ne,e[128]=we):(ye=e[124],ve=e[125],je=e[126],Ne=e[127],we=e[128]);let H;e[129]!==t.match_type||e[130]!==q?(H=l.jsxs("div",{children:[pe,l.jsxs("select",{value:t.match_type,onChange:q,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg",children:[ye,ve,je,Ne,we]})]}),e[129]=t.match_type,e[130]=q,e[131]=H):H=e[131];let I;e[132]!==$||e[133]!==H?(I=l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[$,H]}),e[132]=$,e[133]=H,e[134]=I):I=e[134];let Se;e[135]===Symbol.for("react.memo_cache_sentinel")?(Se=l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Fight Notes"}),e[135]=Se):Se=e[135];let V;e[136]!==t?(V=s=>a({...t,notes:s.target.value}),e[136]=t,e[137]=V):V=e[137];let z;e[138]!==t.notes||e[139]!==V?(z=l.jsxs("div",{children:[Se,l.jsx("textarea",{value:t.notes,onChange:V,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg",rows:3,placeholder:"Notes visible on big screen..."})]}),e[138]=t.notes,e[139]=V,e[140]=z):z=e[140];let Ce;e[141]===Symbol.for("react.memo_cache_sentinel")?(Ce=l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Special Conditions"}),e[141]=Ce):Ce=e[141];let G;e[142]!==t?(G=s=>a({...t,special_conditions:s.target.value}),e[142]=t,e[143]=G):G=e[143];let J;e[144]!==t.special_conditions||e[145]!==G?(J=l.jsxs("div",{children:[Ce,l.jsx("textarea",{value:t.special_conditions,onChange:G,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg",rows:2,placeholder:"e.g., Weather conditions, special rules..."})]}),e[144]=t.special_conditions,e[145]=G,e[146]=J):J=e[146];let K;e[147]!==R||e[148]!==W||e[149]!==I||e[150]!==z||e[151]!==J?(K=l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 space-y-4",children:[ge,R,W,I,z,J]}),e[147]=R,e[148]=W,e[149]=I,e[150]=z,e[151]=J,e[152]=K):K=e[152];let ke;e[153]===Symbol.for("react.memo_cache_sentinel")?(ke=l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{type:"submit",className:"flex-1 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold",children:"Create Fight"}),l.jsx("button",{type:"button",onClick:$e,className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 rounded-lg font-semibold",children:"Cancel"})]}),e[153]=ke):ke=e[153];let Fe;return e[154]!==Oe||e[155]!==k||e[156]!==K?(Fe=l.jsxs(Be,{children:[le,se,l.jsx("div",{className:"max-w-4xl",children:l.jsxs("form",{onSubmit:Oe,className:"space-y-6",children:[k,K,ke]})})]}),e[154]=Oe,e[155]=k,e[156]=K,e[157]=Fe):Fe=e[157],Fe}function $e(){return Ee.visit("/admin/dashboard")}function qe(){return Ee.visit("/admin/dashboard")}function He(){Ee.visit("/admin/dashboard")}function Ie(r){return r.teller_id&&parseFloat(r.amount)>0}function Ve(r,e){return r+parseFloat(e.amount||"0")}function ze(r){return console.error("Error fetching tellers:",r)}export{Qe as default};
