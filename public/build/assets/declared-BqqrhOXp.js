import{c as G,r as F,u as U,j as s,a as B,H as P}from"./app-VHKp5vtx.js";import{D as z}from"./declarator-layout-BHHxXOXJ.js";import"./app-Ci97OsRT.js";function X(n){const e=G.c(37),{declared_fights:h}=n;let p;e[0]!==h?(p=h===void 0?[]:h,e[0]=h,e[1]=p):p=e[1];const c=p,[R,_]=F.useState(!1),[k,A]=F.useState(!1),[l,o]=F.useState(null);let f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f={new_result:""},e[2]=f):f=e[2];const{data:d,setData:a,post:T,processing:y,errors:N}=U(f);let j;e[3]!==a?(j=r=>{o(r),a("new_result",r.result),_(!0)},e[3]=a,e[4]=j):j=e[4];const g=j;let w;e[5]===Symbol.for("react.memo_cache_sentinel")?(w=r=>{o(r),A(!0)},e[5]=w):w=e[5];const W=w;let v;e[6]!==T||e[7]!==l?(v=r=>{r.preventDefault(),l&&T(`/declarator/change-result/${l.id}`,{onSuccess:()=>{_(!1),o(null)}})},e[6]=T,e[7]=l,e[8]=v):v=e[8];const $=v;let C;e[9]===Symbol.for("react.memo_cache_sentinel")?(C=(r,t)=>{B.post(`/declarator/fights/${r}/status`,{status:t},{preserveScroll:!0,onSuccess:()=>{A(!1),o(null)}})},e[9]=C):C=e[9];const S=C,M=q,I=V,O=Y;let D;e[10]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx(P,{title:"Declared Fights"}),e[10]=D):D=e[10];let E;e[11]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx("div",{className:"flex justify-between items-center mb-6 lg:mb-8",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white mb-2",children:"Declared Fights"}),s.jsx("p",{className:"text-sm lg:text-base text-gray-400",children:"View and manage declared fight results"})]})}),e[11]=E):E=e[11];let i;if(e[12]!==c||e[13]!==g){let r;e[15]!==g?(r=t=>s.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-8 hover:bg-gray-750 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between gap-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsxs("div",{className:"text-3xl font-bold text-white",children:["#",t.fight_number]}),s.jsx("span",{className:`px-4 py-1 rounded-full text-sm font-medium ${I(t.status)}`,children:O(t.status)}),t.result&&s.jsxs("span",{className:`px-4 py-1 rounded-full text-sm font-medium ${M(t.result)}`,children:["Result: ",t.result.toUpperCase()]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:`border rounded-lg p-4 ${t.result==="meron"?"bg-red-900/50 border-red-500":"bg-red-900/30 border-red-700"}`,children:[s.jsxs("div",{className:"text-xs text-red-300 mb-2",children:["MERON ",t.result==="meron"&&"ðŸ‘‘ WINNER"]}),s.jsx("div",{className:"font-bold text-white mb-2",children:t.meron_fighter}),s.jsxs("div",{className:"text-2xl font-bold text-red-400",children:[t.meron_odds||"---","x"]})]}),s.jsxs("div",{className:`border rounded-lg p-4 ${t.result==="draw"?"bg-green-900/50 border-green-500":"bg-green-900/30 border-green-700"}`,children:[s.jsxs("div",{className:"text-xs text-green-300 mb-2",children:["DRAW ",t.result==="draw"&&"ðŸ‘‘"]}),s.jsx("div",{className:"font-bold text-white mb-2",children:"Match Draw"}),s.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[t.draw_odds||"---","x"]})]}),s.jsxs("div",{className:`border rounded-lg p-4 ${t.result==="wala"?"bg-blue-900/50 border-blue-500":"bg-blue-900/30 border-blue-700"}`,children:[s.jsxs("div",{className:"text-xs text-blue-300 mb-2",children:["WALA ",t.result==="wala"&&"ðŸ‘‘ WINNER"]}),s.jsx("div",{className:"font-bold text-white mb-2",children:t.wala_fighter}),s.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[t.wala_odds||"---","x"]})]}),s.jsxs("div",{className:"flex flex-col justify-center bg-gray-700/50 border border-gray-600 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Total Bets"}),s.jsx("div",{className:"text-xl font-bold text-white mb-3",children:t.total_bets}),s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Payouts"}),s.jsxs("div",{className:"text-lg font-bold text-green-400",children:["â‚±",t.total_payouts.toLocaleString()]})]})]}),s.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-400",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Created:"})," ",new Date(t.created_at).toLocaleString()]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Declared:"})," ",new Date(t.declared_at).toLocaleString()]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 min-w-[160px]",children:[s.jsx("button",{onClick:()=>W(t),className:"px-4 py-2.5 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm font-medium whitespace-nowrap",children:"Change Status"}),t.status==="closed"&&!t.result&&s.jsx("button",{onClick:H,className:"px-4 py-2.5 bg-green-700 hover:bg-green-600 rounded-lg text-sm font-medium whitespace-nowrap",children:"Declare Result"}),t.result&&s.jsx("button",{onClick:()=>g(t),className:"px-4 py-2.5 bg-yellow-700 hover:bg-yellow-600 rounded-lg text-sm font-medium whitespace-nowrap",children:"Change Result"})]})]})},t.id),e[15]=g,e[16]=r):r=e[16],i=c.map(r),e[12]=c,e[13]=g,e[14]=i}else i=e[14];let u;e[17]!==c.length?(u=c.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-400",children:[s.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“‹"}),s.jsx("p",{className:"text-xl font-medium mb-2",children:"No declared fights yet"}),s.jsx("p",{className:"text-sm",children:"Declared fights will appear here"})]}),e[17]=c.length,e[18]=u):u=e[18];let x;e[19]!==i||e[20]!==u?(x=s.jsxs("div",{className:"p-4 lg:p-8",children:[E,s.jsxs("div",{className:"grid gap-4 lg:gap-6",children:[i,u]})]}),e[19]=i,e[20]=u,e[21]=x):x=e[21];let m;e[22]!==d||e[23]!==N||e[24]!==y||e[25]!==l||e[26]!==a||e[27]!==R||e[28]!==$?(m=R&&l&&s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full border border-gray-700",children:[s.jsxs("h3",{className:"text-xl font-bold mb-4",children:["Change Result - Fight #",l.fight_number]}),s.jsxs("div",{className:"mb-4 p-3 bg-gray-700 rounded",children:[s.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Current Matchup:"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("span",{className:"text-red-400 font-semibold",children:l.meron_fighter}),s.jsx("span",{className:"text-gray-500",children:"vs"}),s.jsx("span",{className:"text-blue-400 font-semibold",children:l.wala_fighter})]}),s.jsxs("div",{className:"text-sm text-gray-400 mt-2",children:["Current Result: ",s.jsx("span",{className:`font-bold ${M(l.result)} px-2 py-0.5 rounded`,children:l.result.toUpperCase()})]})]}),s.jsxs("form",{onSubmit:$,children:[s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("button",{type:"button",onClick:()=>a("new_result","meron"),className:`w-full px-4 py-3 rounded-lg text-left font-medium transition-colors ${d.new_result==="meron"?"bg-red-600 ring-2 ring-red-400":"bg-red-800/50 hover:bg-red-700"}`,children:["ðŸ‘Š MERON - ",l.meron_fighter]}),s.jsxs("button",{type:"button",onClick:()=>a("new_result","wala"),className:`w-full px-4 py-3 rounded-lg text-left font-medium transition-colors ${d.new_result==="wala"?"bg-blue-600 ring-2 ring-blue-400":"bg-blue-800/50 hover:bg-blue-700"}`,children:["ðŸ‘Š WALA - ",l.wala_fighter]}),s.jsx("button",{type:"button",onClick:()=>a("new_result","draw"),className:`w-full px-4 py-3 rounded-lg text-left font-medium transition-colors ${d.new_result==="draw"?"bg-green-600 ring-2 ring-green-400":"bg-green-800/50 hover:bg-green-700"}`,children:"ðŸ¤ DRAW"}),s.jsx("button",{type:"button",onClick:()=>a("new_result","cancelled"),className:`w-full px-4 py-3 rounded-lg text-left font-medium transition-colors ${d.new_result==="cancelled"?"bg-gray-600 ring-2 ring-gray-400":"bg-gray-700/50 hover:bg-gray-600"}`,children:"âŒ CANCELLED"})]}),N.new_result&&s.jsx("p",{className:"text-sm text-red-500 mb-4",children:N.new_result}),s.jsx("div",{className:"bg-yellow-900/30 border border-yellow-700 p-3 rounded mb-6",children:s.jsx("p",{className:"text-yellow-300 text-sm",children:"âš ï¸ Warning: This will recalculate all payouts for this fight!"})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{type:"button",onClick:()=>{_(!1),o(null)},className:"flex-1 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:y||!d.new_result,className:"flex-1 px-4 py-2 bg-yellow-600 hover:bg-yellow-700 rounded-lg font-medium disabled:opacity-50",children:y?"Changing...":"Change Result"})]})]})]})}),e[22]=d,e[23]=N,e[24]=y,e[25]=l,e[26]=a,e[27]=R,e[28]=$,e[29]=m):m=e[29];let b;e[30]!==l||e[31]!==k?(b=k&&l&&s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full border border-gray-700",children:[s.jsxs("h3",{className:"text-xl font-bold mb-4",children:["Change Status - Fight #",l.fight_number]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsx("button",{onClick:()=>S(l.id,"standby"),disabled:l.status==="standby",className:"w-full px-4 py-3 bg-gray-600 hover:bg-gray-700 rounded-lg text-left font-medium disabled:opacity-50",children:"â¸ï¸ STANDBY"}),s.jsx("button",{onClick:()=>S(l.id,"open"),disabled:l.status==="open",className:"w-full px-4 py-3 bg-green-600 hover:bg-green-700 rounded-lg text-left font-medium disabled:opacity-50",children:"âœ… OPEN BETTING"}),s.jsx("button",{onClick:()=>S(l.id,"lastcall"),disabled:l.status==="lastcall",className:"w-full px-4 py-3 bg-yellow-600 hover:bg-yellow-700 rounded-lg text-left font-medium disabled:opacity-50",children:"âš ï¸ LAST CALL"}),s.jsx("button",{onClick:()=>S(l.id,"closed"),disabled:l.status==="closed",className:"w-full px-4 py-3 bg-red-600 hover:bg-red-700 rounded-lg text-left font-medium disabled:opacity-50",children:"ðŸ”’ CLOSE BETTING"})]}),s.jsx("button",{onClick:()=>{A(!1),o(null)},className:"w-full px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"Cancel"})]})}),e[30]=l,e[31]=k,e[32]=b):b=e[32];let L;return e[33]!==x||e[34]!==m||e[35]!==b?(L=s.jsxs(z,{children:[D,x,m,b]}),e[33]=x,e[34]=m,e[35]=b,e[36]=L):L=e[36],L}function H(){return B.visit("/declarator/pending")}function Y(n){switch(n){case"standby":return"STANDBY";case"open":return"BETTING OPEN";case"lastcall":return"LAST CALL";case"closed":return"BETTING CLOSED";case"result_declared":return"RESULT DECLARED";case"cancelled":return"CANCELLED";default:return n.toUpperCase()}}function V(n){switch(n){case"standby":return"bg-gray-600";case"open":return"bg-green-600";case"lastcall":return"bg-yellow-600";case"closed":return"bg-red-600";case"result_declared":return"bg-blue-600";case"cancelled":return"bg-gray-500";default:return"bg-gray-600"}}function q(n){switch(n){case"meron":return"bg-red-600";case"wala":return"bg-blue-600";case"draw":return"bg-green-600";case"cancelled":return"bg-gray-600";default:return"bg-purple-600"}}export{X as default};
