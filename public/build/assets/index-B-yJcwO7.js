import{c as K,r as $,j as t,a as q,H as P}from"./app-BVtecd6R.js";import{A as Q}from"./admin-layout-BKNnHG3x.js";import"./app-C4k-vPJh.js";function ee(s){const e=K.c(59),{tellers:a,recentTransfers:T}=s,[r,M]=$.useState(null),[o,E]=$.useState(""),[x,O]=$.useState(""),[I,D]=$.useState(!1);let k;e[0]!==o||e[1]!==x||e[2]!==r?(k=()=>{r&&q.post(`/admin/teller-balances/${r.id}/set`,{amount:parseFloat(o),remarks:x},{onSuccess:()=>{D(!1),E(""),O(""),M(null)}})},e[0]=o,e[1]=x,e[2]=r,e[3]=k):k=e[3];const H=k,G=W;let A;e[4]===Symbol.for("react.memo_cache_sentinel")?(A=l=>{M(l),E(l.teller_balance.toString()),D(!0)},e[4]=A):A=e[4];const J=A;let m,n,h,p,g,u,c,i,d;if(e[5]!==a){const l=a.reduce(V,0);m=Q,e[15]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx(P,{title:"Teller Balances"}),d=t.jsx("br",{}),e[15]=i,e[16]=d):(i=e[15],d=e[16]),e[17]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-white",children:"Teller Cash Management"}),t.jsx("p",{className:"text-gray-400 mt-2",children:"Manage teller cash balances and view transfer history"})]}),e[17]=n):n=e[17],u="bg-gradient-to-br from-green-600 to-green-800 rounded-lg p-6 mb-6",e[18]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx("div",{className:"text-green-200 text-sm mb-2",children:"Total Teller Balance"}),e[18]=c):c=e[18],h="text-5xl font-bold text-white",p="₱",g=l.toLocaleString(),e[5]=a,e[6]=m,e[7]=n,e[8]=h,e[9]=p,e[10]=g,e[11]=u,e[12]=c,e[13]=i,e[14]=d}else m=e[6],n=e[7],h=e[8],p=e[9],g=e[10],u=e[11],c=e[12],i=e[13],d=e[14];let b;e[19]!==h||e[20]!==p||e[21]!==g?(b=t.jsxs("div",{className:h,children:[p,g]}),e[19]=h,e[20]=p,e[21]=g,e[22]=b):b=e[22];const z=a.length!==1?"s":"";let f;e[23]!==z||e[24]!==a.length?(f=t.jsxs("div",{className:"text-green-200 text-sm mt-2",children:["Across ",a.length," teller",z]}),e[23]=z,e[24]=a.length,e[25]=f):f=e[25];let y;e[26]!==b||e[27]!==f||e[28]!==u||e[29]!==c?(y=t.jsxs("div",{className:u,children:[c,b,f]}),e[26]=b,e[27]=f,e[28]=u,e[29]=c,e[30]=y):y=e[30];let B;e[31]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx("div",{className:"p-4 bg-gray-700 border-b border-gray-600",children:t.jsx("h2",{className:"text-xl font-bold text-white",children:"Teller Balances"})}),e[31]=B):B=e[31];let C;e[32]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx("thead",{className:"bg-gray-700",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Teller"}),t.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-300 uppercase",children:"Current Balance"}),t.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-gray-300 uppercase",children:"Actions"})]})}),e[32]=C):C=e[32];let j;if(e[33]!==a){let l;e[35]===Symbol.for("react.memo_cache_sentinel")?(l=_=>t.jsxs("tr",{className:"hover:bg-gray-700/50",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"font-semibold text-white",children:_.name}),t.jsx("div",{className:"text-sm text-gray-400",children:_.email})]}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("span",{className:"text-2xl font-bold text-green-400",children:["₱",parseFloat(_.teller_balance.toString()).toLocaleString()]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex justify-center gap-2",children:[t.jsx("button",{onClick:()=>J(_),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm font-semibold",children:"Set Balance"}),t.jsx("button",{onClick:()=>G(_),className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-sm font-semibold",children:"Add Balance"})]})})]},_.id),e[35]=l):l=e[35],j=a.map(l),e[33]=a,e[34]=j}else j=e[34];let N;e[36]!==j?(N=t.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden mb-6",children:[B,t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[C,t.jsx("tbody",{className:"divide-y divide-gray-700",children:j})]})})]}),e[36]=j,e[37]=N):N=e[37];let R;e[38]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("div",{className:"p-4 bg-gray-700 border-b border-gray-600",children:t.jsx("h2",{className:"text-xl font-bold text-white",children:"Recent Transfers"})}),e[38]=R):R=e[38];let F;e[39]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx("thead",{className:"bg-gray-700",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"From"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"To"}),t.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-300 uppercase",children:"Amount"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Type"}),t.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-300 uppercase",children:"Remarks"})]})}),e[39]=F):F=e[39];let v;e[40]!==T?(v=T.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-400",children:"No transfers yet"})}):T.map(U),e[40]=T,e[41]=v):v=e[41];let S;e[42]!==v?(S=t.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[R,t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[F,t.jsx("tbody",{className:"divide-y divide-gray-700",children:v})]})})]}),e[42]=v,e[43]=S):S=e[43];let w;e[44]!==o||e[45]!==H||e[46]!==x||e[47]!==r||e[48]!==I?(w=I&&r&&t.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[t.jsxs("h3",{className:"text-2xl font-bold text-white mb-4",children:["Set Balance for ",r.name]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"New Balance (₱)"}),t.jsx("input",{type:"number",value:o,onChange:l=>E(l.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white text-xl",step:"0.01",min:"0"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Remarks (Optional)"}),t.jsx("textarea",{value:x,onChange:l=>O(l.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white",rows:3})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:H,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold",children:"Set Balance"}),t.jsx("button",{onClick:()=>{D(!1),M(null)},className:"flex-1 px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg font-semibold",children:"Cancel"})]})]})]})}),e[44]=o,e[45]=H,e[46]=x,e[47]=r,e[48]=I,e[49]=w):w=e[49];let L;return e[50]!==m||e[51]!==n||e[52]!==y||e[53]!==N||e[54]!==S||e[55]!==w||e[56]!==i||e[57]!==d?(L=t.jsxs(m,{children:[i,d,n,y,N,S,w]}),e[50]=m,e[51]=n,e[52]=y,e[53]=N,e[54]=S,e[55]=w,e[56]=i,e[57]=d,e[58]=L):L=e[58],L}function U(s){return t.jsxs("tr",{className:"hover:bg-gray-700/50",children:[t.jsx("td",{className:"px-6 py-4 text-sm text-gray-300",children:new Date(s.created_at).toLocaleString()}),t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:s.from_teller.name}),t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:s.to_teller.name}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("span",{className:"font-bold text-green-400",children:["₱",s.amount.toLocaleString()]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${s.type==="initial_balance"?"bg-purple-600 text-white":"bg-blue-600 text-white"}`,children:s.type==="initial_balance"?"INITIAL":"TRANSFER"})}),t.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:s.remarks||"-"})]},s.id)}function V(s,e){return s+parseFloat(e.teller_balance.toString())}function W(s){const e=prompt(`Add balance to ${s.name}:`);e&&q.post(`/admin/teller-balances/${s.id}/add`,{amount:parseFloat(e),remarks:`Admin added ₱${e}`})}export{ee as default};
