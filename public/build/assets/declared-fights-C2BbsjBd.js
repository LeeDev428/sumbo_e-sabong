import{c as _,r as L,u as E,j as e,H as F}from"./app-CbIbn4Ys.js";import{D as A}from"./declarator-layout-Bl0m-ehw.js";import"./app-DYXMlGDN.js";function W(w){const t=_.c(26),{fights:o}=w,[N,R]=L.useState(!1),[l,S]=L.useState(null);let g;t[0]===Symbol.for("react.memo_cache_sentinel")?(g={new_result:"",reason:""},t[0]=g):g=t[0];const{data:i,setData:a,post:y,processing:x,errors:r,reset:f}=E(g);let m;t[1]!==a?(m=s=>{S(s),a("new_result",""),a("reason",""),R(!0)},t[1]=a,t[2]=m):m=t[2];const v=m;let h;t[3]!==f?(h=()=>{R(!1),S(null),f()},t[3]=f,t[4]=h):h=t[4];const n=h;let u;t[5]!==n||t[6]!==y||t[7]!==l?(u=s=>{s.preventDefault(),l&&y(`/declarator/change-result/${l.id}`,{preserveScroll:!0,onSuccess:()=>{n()}})},t[5]=n,t[6]=y,t[7]=l,t[8]=u):u=t[8];const C=u,D=$;let p;t[9]===Symbol.for("react.memo_cache_sentinel")?(p=e.jsx(F,{title:"Declared Fights"}),t[9]=p):p=t[9];let b;t[10]===Symbol.for("react.memo_cache_sentinel")?(b=e.jsxs("div",{className:"mb-6 lg:mb-8",children:[e.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white",children:"Declared Fights"}),e.jsx("p",{className:"text-sm lg:text-base text-gray-400 mt-2",children:"View all fights you've declared"})]}),t[10]=b):b=t[10];let c;t[11]!==o||t[12]!==v?(c=o.length===0?e.jsx("div",{className:"bg-gray-800 rounded-lg p-8 lg:p-12 text-center",children:e.jsx("p",{className:"text-gray-400 text-base lg:text-lg",children:"No declared fights yet"})}):e.jsx("div",{className:"grid gap-4 lg:gap-6",children:o.map(s=>e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 lg:p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("span",{className:"text-2xl font-bold text-yellow-400",children:["FIGHT #",s.fight_number]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${D(s.result)}`,children:s.result.toUpperCase()})]}),e.jsx("p",{className:"text-gray-400",children:s.event_date}),e.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Declared: ",new Date(s.declared_at).toLocaleString()]})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 lg:gap-4 mb-4 lg:mb-6",children:[e.jsxs("div",{className:`rounded-lg p-3 lg:p-4 text-center ${s.result==="meron"?"bg-red-600 ring-2 lg:ring-4 ring-red-400":"bg-gray-700"}`,children:[e.jsx("p",{className:"text-white text-xs lg:text-sm font-medium mb-1",children:"MERON"}),e.jsx("p",{className:"text-white text-base lg:text-xl font-bold truncate",children:s.meron_fighter}),e.jsxs("p",{className:"text-white text-sm lg:text-lg mt-2",children:["×",s.meron_odds]})]}),e.jsxs("div",{className:`rounded-lg p-3 lg:p-4 text-center ${s.result==="draw"?"bg-green-600 ring-2 lg:ring-4 ring-green-400":"bg-gray-700"}`,children:[e.jsx("p",{className:"text-white text-xs lg:text-sm font-medium mb-1",children:"DRAW"}),e.jsx("p",{className:"text-white text-base lg:text-xl font-bold",children:"—"}),e.jsxs("p",{className:"text-white text-sm lg:text-lg mt-2",children:["×",s.draw_odds]})]}),e.jsxs("div",{className:`rounded-lg p-3 lg:p-4 text-center ${s.result==="wala"?"bg-blue-600 ring-2 lg:ring-4 ring-blue-400":"bg-gray-700"}`,children:[e.jsx("p",{className:"text-white text-xs lg:text-sm font-medium mb-1",children:"WALA"}),e.jsx("p",{className:"text-white text-base lg:text-xl font-bold truncate",children:s.wala_fighter}),e.jsxs("p",{className:"text-white text-sm lg:text-lg mt-2",children:["×",s.wala_odds]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 lg:gap-4 bg-gray-700 rounded-lg p-3 lg:p-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs lg:text-sm",children:"Total Bets"}),e.jsxs("p",{className:"text-white text-lg lg:text-2xl font-bold",children:["₱",s.total_bets.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs lg:text-sm",children:"Total Payout"}),e.jsxs("p",{className:"text-green-400 text-lg lg:text-2xl font-bold",children:["₱",s.total_payout.toLocaleString()]})]})]}),e.jsx("button",{onClick:()=>v(s),className:"w-full px-4 py-2.5 lg:py-3 text-sm lg:text-base bg-yellow-600 hover:bg-yellow-500 rounded-lg font-medium",children:"Change Result"})]},s.id))}),t[11]=o,t[12]=v,t[13]=c):c=t[13];let d;t[14]!==n||t[15]!==i||t[16]!==r||t[17]!==C||t[18]!==x||t[19]!==l||t[20]!==a||t[21]!==N?(d=N&&l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4",children:["Change Result - Fight #",l.fight_number]}),e.jsxs("div",{className:"mb-4 p-4 bg-gray-700 rounded",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Current Result"}),e.jsx("p",{className:`font-bold text-xl ${D(l.result)}`,children:l.result.toUpperCase()})]}),e.jsxs("form",{onSubmit:C,children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-white font-medium mb-2",children:["New Result ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:i.new_result,onChange:s=>a("new_result",s.target.value),className:"w-full px-4 py-2 bg-gray-700 text-white rounded-lg focus:ring-2 focus:ring-yellow-500",required:!0,children:[e.jsx("option",{value:"",children:"Select new result..."}),e.jsx("option",{value:"meron",children:"MERON"}),e.jsx("option",{value:"wala",children:"WALA"}),e.jsx("option",{value:"draw",children:"DRAW"}),e.jsx("option",{value:"cancelled",children:"CANCELLED"})]}),r.new_result&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.new_result})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-white font-medium mb-2",children:["Reason ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:i.reason,onChange:s=>a("reason",s.target.value),className:"w-full px-4 py-2 bg-gray-700 text-white rounded-lg focus:ring-2 focus:ring-yellow-500",rows:4,placeholder:"Explain why the result is being changed...",maxLength:500,required:!0}),r.reason&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.reason}),e.jsxs("p",{className:"text-gray-400 text-xs mt-1",children:[i.reason.length,"/500 characters"]})]}),e.jsx("div",{className:"mb-4 p-4 bg-yellow-900 bg-opacity-30 border border-yellow-600 rounded",children:e.jsxs("p",{className:"text-yellow-400 text-sm",children:["⚠️ ",e.jsx("strong",{children:"Warning:"})," This will recalculate all payouts for this fight. This action is logged."]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",disabled:x,className:"flex-1 px-4 py-2 bg-yellow-600 hover:bg-yellow-500 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg font-medium",children:x?"Changing...":"Change Result"}),e.jsx("button",{type:"button",onClick:n,disabled:x,className:"flex-1 px-4 py-2 bg-gray-700 hover:bg-gray-600 disabled:cursor-not-allowed rounded-lg font-medium",children:"Cancel"})]})]})]})}),t[14]=n,t[15]=i,t[16]=r,t[17]=C,t[18]=x,t[19]=l,t[20]=a,t[21]=N,t[22]=d):d=t[22];let j;return t[23]!==c||t[24]!==d?(j=e.jsxs(A,{children:[p,b,c,d]}),t[23]=c,t[24]=d,t[25]=j):j=t[25],j}function $(w){switch(w){case"meron":return"bg-red-600 text-white";case"wala":return"bg-blue-600 text-white";case"draw":return"bg-green-600 text-white";case"cancel":return"bg-gray-600 text-white";default:return"bg-gray-600 text-white"}}export{W as default};
