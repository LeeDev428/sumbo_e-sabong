import{c as M,r as u,j as e,a as P,H as U}from"./app-5V_KwJf4.js";import{T as z}from"./teller-layout-B9sSMize.js";import{H as D}from"./html5-qrcode-scanner-DFtHw4x3.js";import"./app-DbUdHGla.js";function X(a){const t=M.c(33),{bets:f,summary:r}=a,[l,R]=u.useState("summary"),[V,b]=u.useState(!1),[g,j]=u.useState(!1),n=u.useRef(null);let v,p;t[0]===Symbol.for("react.memo_cache_sentinel")?(v=()=>()=>{n.current&&n.current.stop().catch(console.error)},p=[],t[0]=v,t[1]=p):(v=t[0],p=t[1]),u.useEffect(v,p);let N;t[2]===Symbol.for("react.memo_cache_sentinel")?(N=async()=>{try{const s=new D("void-qr-reader");n.current=s,await s.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},B=>{s.stop(),j(!1),confirm(`Void ticket ${B}? This action cannot be undone.`)?P.post("/teller/bets/void",{bet_id:B},{preserveScroll:!0,onSuccess:()=>{b(!1)}}):b(!1)},G),j(!0)}catch(s){console.error(s),j(!1)}},t[2]=N):N=t[2];const Q=N;let y;t[3]===Symbol.for("react.memo_cache_sentinel")?(y=()=>{n.current&&n.current.stop().then(()=>{j(!1),b(!1),n.current=null}).catch(console.error)},t[3]=y):y=t[3];const E=y,q=W,A=F;let w;t[4]===Symbol.for("react.memo_cache_sentinel")?(w=e.jsx(U,{title:"History & Summary"}),t[4]=w):w=t[4];let S,_;t[5]===Symbol.for("react.memo_cache_sentinel")?(S=e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-orange-500",children:"History & Summary"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Transaction logs and betting summary"})]}),_=()=>b(!0),t[5]=S,t[6]=_):(S=t[5],_=t[6]);let C;t[7]===Symbol.for("react.memo_cache_sentinel")?(C=e.jsx("div",{className:"bg-[#1a1a1a] rounded-lg p-4 mb-4 border border-gray-700",children:e.jsxs("div",{className:"flex justify-between items-center",children:[S,e.jsxs("button",{onClick:_,className:"bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg font-semibold flex items-center gap-2",children:[e.jsx("span",{children:"‚ùå"})," Void Ticket"]})]})}),t[7]=C):C=t[7];let k;t[8]===Symbol.for("react.memo_cache_sentinel")?(k=()=>R("summary"),t[8]=k):k=t[8];const H=`py-3 rounded-lg font-semibold transition-colors ${l==="summary"?"bg-blue-600 text-white":"bg-[#1a1a1a] text-gray-400 hover:text-white"}`;let d;t[9]!==H?(d=e.jsx("button",{onClick:k,className:H,children:"üìä Summary"}),t[9]=H,t[10]=d):d=t[10];let T;t[11]===Symbol.for("react.memo_cache_sentinel")?(T=()=>R("bets"),t[11]=T):T=t[11];const $=`py-3 rounded-lg font-semibold transition-colors ${l==="bets"?"bg-blue-600 text-white":"bg-[#1a1a1a] text-gray-400 hover:text-white"}`;let i;t[12]!==$?(i=e.jsx("button",{onClick:T,className:$,children:"üé∞ Bets"}),t[12]=$,t[13]=i):i=t[13];let c;t[14]!==d||t[15]!==i?(c=e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[d,i]}),t[14]=d,t[15]=i,t[16]=c):c=t[16];let o;t[17]!==l||t[18]!==r?(o=l==="summary"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-900/50 to-purple-900/50 rounded-lg p-6 border border-blue-500/30",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-300 mb-2",children:"Total Bets Today"}),e.jsx("div",{className:"text-4xl font-bold text-white",children:r.total_bets})]})}),e.jsx("div",{className:"bg-[#1a1a1a] rounded-lg p-6 border border-gray-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Total Bet Amount"}),e.jsxs("div",{className:"text-3xl font-bold text-yellow-400",children:["‚Ç±",r.total_amount.toLocaleString()]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("div",{className:"bg-green-900/30 rounded-lg p-4 border border-green-500/30",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-green-300 mb-1",children:"Won Bets"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:r.won_bets})]})}),e.jsx("div",{className:"bg-red-900/30 rounded-lg p-4 border border-red-500/30",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-red-300 mb-1",children:"Lost Bets"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:r.lost_bets})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("div",{className:"bg-blue-900/30 rounded-lg p-4 border border-blue-500/30",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-blue-300 mb-1",children:"Claimed"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:r.claimed_bets})]})}),e.jsx("div",{className:"bg-purple-900/30 rounded-lg p-4 border border-purple-500/30",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-purple-300 mb-1",children:"Voided"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:r.voided_bets})]})})]})]}),t[17]=l,t[18]=r,t[19]=o):o=t[19];let x;t[20]!==l||t[21]!==f?(x=l==="bets"&&e.jsx("div",{className:"space-y-3",children:f.data.length===0?e.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg p-8 text-center border border-gray-700",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üé∞"}),e.jsx("p",{className:"text-gray-400",children:"No bets yet"})]}):f.data.map(s=>e.jsxs("div",{className:"bg-[#1a1a1a] rounded-lg p-4 border border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-gray-400",children:["Fight #",s.fight.fight_number]}),e.jsxs("div",{className:"text-lg font-bold",children:[s.fight.meron_fighter," vs ",s.fight.wala_fighter]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${A(s.status)}`,children:s.status.toUpperCase()})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Bet Side"}),e.jsx("div",{className:`text-lg font-bold ${q(s.side)}`,children:s.side.toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Amount"}),e.jsxs("div",{className:"text-lg font-bold text-white",children:["‚Ç±",s.amount.toLocaleString()]})]})]}),s.status==="won"&&e.jsxs("div",{className:"bg-green-900/30 rounded-lg p-3 border border-green-500/30",children:[e.jsx("div",{className:"text-xs text-green-300 mb-1",children:"Payout"}),e.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["‚Ç±",s.actual_payout?.toLocaleString()]})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:new Date(s.created_at).toLocaleString()})]},s.id))}),t[20]=l,t[21]=f,t[22]=x):x=t[22];let m;t[23]!==c||t[24]!==o||t[25]!==x?(m=e.jsxs("div",{className:"p-4 max-w-2xl mx-auto",children:[C,c,o,x]}),t[23]=c,t[24]=o,t[25]=x,t[26]=m):m=t[26];let h;t[27]!==g||t[28]!==V?(h=V&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-[#1a2332] rounded-lg w-full max-w-md border-2 border-red-500",children:[e.jsxs("div",{className:"bg-red-600 px-6 py-3 flex justify-between items-center rounded-t-lg",children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx("span",{children:"‚ùå"})," Void Ticket"]}),e.jsx("button",{onClick:()=>{E(),b(!1)},className:"text-white hover:text-gray-200 text-3xl leading-none",children:"√ó"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{id:"void-qr-reader",className:`rounded-lg overflow-hidden mb-4 ${g?"":"hidden"}`}),!g&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üì∑"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Scan QR code to void ticket"}),e.jsx("p",{className:"text-sm text-red-400 mb-4",children:"‚ö†Ô∏è This action cannot be undone"}),e.jsx("button",{onClick:Q,className:"bg-red-600 hover:bg-red-700 px-8 py-3 rounded-lg font-bold mb-3",children:"Start Scanner"})]}),g&&e.jsx("button",{onClick:E,className:"w-full bg-gray-600 hover:bg-gray-700 py-3 rounded-lg font-bold",children:"Cancel"})]})]})}),t[27]=g,t[28]=V,t[29]=h):h=t[29];let L;return t[30]!==m||t[31]!==h?(L=e.jsxs(z,{currentPage:"history",children:[w,m,h]}),t[30]=m,t[31]=h,t[32]=L):L=t[32],L}function F(a){switch(a.toLowerCase()){case"won":return"bg-green-600";case"lost":return"bg-red-600";case"refunded":return"bg-yellow-600";default:return"bg-gray-600"}}function W(a){switch(a.toLowerCase()){case"meron":return"text-red-400";case"wala":return"text-blue-400";case"draw":return"text-green-400";default:return"text-gray-400"}}function G(a){}export{X as default};
