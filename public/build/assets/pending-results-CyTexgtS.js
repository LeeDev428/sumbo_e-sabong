import{c as y,r as j,j as e,a as v,H as R}from"./app-DP4N-86I.js";import{D as C}from"./declarator-layout-CEDIaft2.js";import"./app-BPNoTaOZ.js";function k(f){const t=y.c(17),{fights:i}=f,[l,N]=j.useState(null),[a,c]=j.useState("meron"),[b,p]=j.useState(!1);let x;t[0]===Symbol.for("react.memo_cache_sentinel")?(x=s=>{N(s),p(!0)},t[0]=x):x=t[0];const w=x;let d;t[1]!==a||t[2]!==l?(d=()=>{l&&v.post(`/declarator/fights/${l.id}/declare`,{result:a},{onSuccess:()=>{p(!1),N(null)}})},t[1]=a,t[2]=l,t[3]=d):d=t[3];const u=d;let o,g;t[4]===Symbol.for("react.memo_cache_sentinel")?(o=e.jsx(R,{title:"Pending Results"}),g=e.jsx("br",{}),t[4]=o,t[5]=g):(o=t[4],g=t[5]);let m;t[6]===Symbol.for("react.memo_cache_sentinel")?(m=e.jsxs("div",{className:"mb-6 lg:mb-8",children:[e.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white",children:"Pending Results"}),e.jsx("p",{className:"text-sm lg:text-base text-gray-400 mt-2",children:"Declare fight results for closed fights"})]}),t[6]=m):m=t[6];let r;t[7]!==i?(r=i.length===0?e.jsx("div",{className:"bg-gray-800 rounded-lg p-12 text-center",children:e.jsx("p",{className:"text-gray-400 text-lg",children:"No pending results"})}):e.jsx("div",{className:"grid gap-4 lg:gap-6",children:i.map(s=>e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 lg:p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2",children:[e.jsxs("span",{className:"text-xl lg:text-2xl font-bold text-yellow-400",children:["FIGHT #",s.fight_number]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${s.status==="closed"?"bg-red-600 text-white":"bg-orange-600 text-white"}`,children:s.status.toUpperCase()})]}),e.jsx("p",{className:"text-gray-400",children:s.event_date})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 lg:gap-4 mb-4 lg:mb-6",children:[e.jsxs("div",{className:"bg-red-600 rounded-lg p-3 lg:p-4 text-center",children:[e.jsx("p",{className:"text-white text-xs lg:text-sm font-medium mb-1",children:"MERON"}),e.jsx("p",{className:"text-white text-base lg:text-xl font-bold truncate",children:s.meron_fighter}),e.jsxs("p",{className:"text-white text-sm lg:text-lg mt-2",children:["×",s.meron_odds]})]}),e.jsxs("div",{className:"bg-green-600 rounded-lg p-3 lg:p-4 text-center",children:[e.jsx("p",{className:"text-white text-xs lg:text-sm font-medium mb-1",children:"DRAW"}),e.jsx("p",{className:"text-white text-base lg:text-xl font-bold",children:"—"}),e.jsxs("p",{className:"text-white text-sm lg:text-lg mt-2",children:["×",s.draw_odds]})]}),e.jsxs("div",{className:"bg-blue-600 rounded-lg p-3 lg:p-4 text-center",children:[e.jsx("p",{className:"text-white text-xs lg:text-sm font-medium mb-1",children:"WALA"}),e.jsx("p",{className:"text-white text-base lg:text-xl font-bold truncate",children:s.wala_fighter}),e.jsxs("p",{className:"text-white text-sm lg:text-lg mt-2",children:["×",s.wala_odds]})]})]}),e.jsx("button",{onClick:()=>w(s),className:"w-full bg-yellow-500 hover:bg-yellow-600 text-black text-sm lg:text-base font-bold py-2.5 lg:py-3 rounded-lg transition-colors",children:"DECLARE RESULT"})]},s.id))}),t[7]=i,t[8]=r):r=t[8];let n;t[9]!==a||t[10]!==l||t[11]!==b||t[12]!==u?(n=b&&l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 max-w-2xl w-full",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-6",children:["Declare Result - Fight #",l.fight_number]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-gray-400 mb-4",children:"Select the winning side:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>c("meron"),className:`p-6 rounded-lg text-center transition-all ${a==="meron"?"bg-red-600 ring-4 ring-red-400":"bg-gray-700 hover:bg-gray-600"}`,children:[e.jsx("p",{className:"text-white text-xl font-bold",children:"MERON"}),e.jsx("p",{className:"text-white text-lg mt-2",children:l.meron_fighter})]}),e.jsxs("button",{onClick:()=>c("wala"),className:`p-6 rounded-lg text-center transition-all ${a==="wala"?"bg-blue-600 ring-4 ring-blue-400":"bg-gray-700 hover:bg-gray-600"}`,children:[e.jsx("p",{className:"text-white text-xl font-bold",children:"WALA"}),e.jsx("p",{className:"text-white text-lg mt-2",children:l.wala_fighter})]}),e.jsxs("button",{onClick:()=>c("draw"),className:`p-6 rounded-lg text-center transition-all ${a==="draw"?"bg-green-600 ring-4 ring-green-400":"bg-gray-700 hover:bg-gray-600"}`,children:[e.jsx("p",{className:"text-white text-xl font-bold",children:"DRAW"}),e.jsx("p",{className:"text-white text-sm mt-2",children:"Both sides win"})]}),e.jsxs("button",{onClick:()=>c("cancel"),className:`p-6 rounded-lg text-center transition-all ${a==="cancel"?"bg-gray-500 ring-4 ring-gray-400":"bg-gray-700 hover:bg-gray-600"}`,children:[e.jsx("p",{className:"text-white text-xl font-bold",children:"CANCEL"}),e.jsx("p",{className:"text-white text-sm mt-2",children:"Refund all bets"})]})]})]}),e.jsx("div",{className:"bg-yellow-900 border border-yellow-700 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-yellow-200 text-sm",children:["⚠️ ",e.jsx("strong",{children:"Warning:"})," This action is irreversible. Once declared, the result cannot be changed."]})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:u,className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-lg transition-colors",children:"CONFIRM & DECLARE"}),e.jsx("button",{onClick:()=>p(!1),className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 rounded-lg transition-colors",children:"CANCEL"})]})]})}),t[9]=a,t[10]=l,t[11]=b,t[12]=u,t[13]=n):n=t[13];let h;return t[14]!==r||t[15]!==n?(h=e.jsxs(C,{children:[o,g,m,r,n]}),t[14]=r,t[15]=n,t[16]=h):h=t[16],h}export{k as default};
