import{r as s,b as c,j as e,H as d}from"./app-DP4N-86I.js";import{W as p,F as b,B as _,a as i,S as y,N as j,H as v}from"./WinnerOverlay-D8-PumSC.js";import"./app-BPNoTaOZ.js";function B(){const[t,m]=s.useState(null),[g,f]=s.useState([]),[h,r]=s.useState(!0),[u,o]=s.useState(!1);s.useEffect(()=>{l();const n=setInterval(l,2e3);return()=>clearInterval(n)},[]);const l=async()=>{try{const a=(await c.get("/api/bigscreen")).data.fight;if(a&&a.status==="declared"&&a.result&&(!t||t.id!==a.id||t.result!==a.result)&&(o(!0),setTimeout(()=>o(!1),2e3)),m(a),a){const x=await c.get("/api/bigscreen/history");f(x.data.history||[])}r(!1)}catch(n){console.error("Error fetching fight data:",n),r(!1)}};return h?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"text-white text-5xl animate-pulse",children:"Loading..."})}):t?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-900 text-white overflow-hidden",children:[e.jsx(d,{title:`Fight #${t.fight_number} - Sabing2m`}),e.jsx(p,{show:u,result:t.result||"",fightNumber:t.fight_number}),e.jsxs("div",{className:"container mx-auto px-4 py-4",children:[e.jsx(b,{fightNumber:t.fight_number,venue:t.venue,eventName:t.event_name,eventDate:t.event_date,roundNumber:t.round_number,matchType:t.match_type}),e.jsx(_,{status:t.status,meronBettingOpen:t.meron_betting_open,walaBettingOpen:t.wala_betting_open}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsx(i,{side:"meron",fighter:t.meron_fighter,odds:t.meron_odds,totalBets:t.meron_total,betCount:t.meron_count,bettingOpen:t.meron_betting_open}),e.jsx(i,{side:"draw",fighter:"Even Match",odds:t.draw_odds,totalBets:t.draw_total,betCount:t.draw_count}),e.jsx(i,{side:"wala",fighter:t.wala_fighter,odds:t.wala_odds,totalBets:t.wala_total,betCount:t.wala_count,bettingOpen:t.wala_betting_open})]}),e.jsx(y,{totalPot:t.total_pot,commission:t.commission,commissionPercentage:t.commission_percentage,netPot:t.net_pot}),e.jsx(j,{notes:t.notes,specialConditions:t.special_conditions}),e.jsx(v,{history:g})]}),e.jsx("style",{children:`
                @keyframes confetti {
                    0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
                    100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
                }
                .animate-confetti {
                    animation: confetti 4s linear infinite;
                }
                @keyframes fade-in {
                    from { opacity: 0; transform: scale(0.8); }
                    to { opacity: 1; transform: scale(1); }
                }
                .animate-fade-in {
                    animation: fade-in 0.5s ease-out;
                }
            `})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center",children:[e.jsx(d,{title:"Big Screen - Sabing2m"}),e.jsxs("div",{className:"text-center p-8",children:[e.jsx("div",{className:"text-9xl mb-8 animate-bounce",children:"üêì"}),e.jsx("h1",{className:"text-7xl font-bold text-orange-500 mb-4",children:"SABING2M"}),e.jsx("p",{className:"text-4xl text-gray-400",children:"No Active Fight"}),e.jsx("p",{className:"text-2xl text-gray-600 mt-6",children:"Next fight starting soon..."})]})]})}export{B as default};
