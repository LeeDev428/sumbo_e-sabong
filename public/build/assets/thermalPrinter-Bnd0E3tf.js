const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web-BMfYPyXj.js","assets/app-Bn285p6Y.js","assets/app-DbUdHGla.js","assets/app-CWtwOacu.css"])))=>i.map(i=>d[i]);
import{_ as Z}from"./app-Bn285p6Y.js";var V;(function(r){r[r.SCAN_MODE_LOW_POWER=0]="SCAN_MODE_LOW_POWER",r[r.SCAN_MODE_BALANCED=1]="SCAN_MODE_BALANCED",r[r.SCAN_MODE_LOW_LATENCY=2]="SCAN_MODE_LOW_LATENCY"})(V||(V={}));var H;(function(r){r[r.CONNECTION_PRIORITY_BALANCED=0]="CONNECTION_PRIORITY_BALANCED",r[r.CONNECTION_PRIORITY_HIGH=1]="CONNECTION_PRIORITY_HIGH",r[r.CONNECTION_PRIORITY_LOW_POWER=2]="CONNECTION_PRIORITY_LOW_POWER"})(H||(H={}));var O;(function(r){r.Unimplemented="UNIMPLEMENTED",r.Unavailable="UNAVAILABLE"})(O||(O={}));class j extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}const ee=r=>{var e,t;return r?.androidBridge?"android":!((t=(e=r?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},te=r=>{const e=r.CapacitorCustomPlatform||null,t=r.Capacitor||{},n=t.Plugins=t.Plugins||{},i=()=>e!==null?e.name:ee(r),a=()=>i()!=="web",o=l=>{const d=g.get(l);return!!(d?.platforms.has(i())||c(l))},c=l=>{var d;return(d=t.PluginHeaders)===null||d===void 0?void 0:d.find(A=>A.name===l)},h=l=>r.console.error(l),g=new Map,D=(l,d={})=>{const A=g.get(l);if(A)return console.warn(`Capacitor plugin "${l}" already registered. Cannot register plugins twice.`),A.proxy;const $=i(),P=c(l);let b;const Q=async()=>(!b&&$ in d?b=typeof d[$]=="function"?b=await d[$]():b=d[$]:e!==null&&!b&&"web"in d&&(b=typeof d.web=="function"?b=await d.web():b=d.web),b),J=(f,w)=>{var v,p;if(P){const S=P?.methods.find(y=>w===y.name);if(S)return S.rtype==="promise"?y=>t.nativePromise(l,w.toString(),y):(y,T)=>t.nativeCallback(l,w.toString(),y,T);if(f)return(v=f[w])===null||v===void 0?void 0:v.bind(f)}else{if(f)return(p=f[w])===null||p===void 0?void 0:p.bind(f);throw new j(`"${l}" plugin is not implemented on ${$}`,O.Unimplemented)}},U=f=>{let w;const v=(...p)=>{const S=Q().then(y=>{const T=J(y,f);if(T){const q=T(...p);return w=q?.remove,q}else throw new j(`"${l}.${f}()" is not implemented on ${$}`,O.Unimplemented)});return f==="addListener"&&(S.remove=async()=>w()),S};return v.toString=()=>`${f.toString()}() { [capacitor code] }`,Object.defineProperty(v,"name",{value:f,writable:!1,configurable:!1}),v},W=U("addListener"),N=U("removeListener"),X=(f,w)=>{const v=W({eventName:f},w),p=async()=>{const y=await v;N({eventName:f,callbackId:y},w)},S=new Promise(y=>v.then(()=>y({remove:p})));return S.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await p()},S},B=new Proxy({},{get(f,w){switch(w){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return P?X:W;case"removeListener":return N;default:return U(w)}}});return n[l]=B,g.set(l,{name:l,proxy:B,platforms:new Set([...Object.keys(d),...P?[$]:[]])}),B};return t.convertFileSrc||(t.convertFileSrc=l=>l),t.getPlatform=i,t.handleError=h,t.isNativePlatform=a,t.isPluginAvailable=o,t.registerPlugin=D,t.Exception=j,t.DEBUG=!!t.DEBUG,t.isLoggingEnabled=!!t.isLoggingEnabled,t},re=r=>r.Capacitor=te(r),C=re(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),k=C.registerPlugin;class x{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(t);const a=this.windowListeners[e];a&&!a.registered&&this.addWindowListener(a),n&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,t);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,n){const i=this.listeners[e];if(!i){if(n){let a=this.retainedEventArguments[e];a||(a=[]),a.push(t),this.retainedEventArguments[e]=a}return}i.forEach(a=>a(t))}hasListeners(e){var t;return!!(!((t=this.listeners[e])===null||t===void 0)&&t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:n=>{this.notifyListeners(t,n)}}}unimplemented(e="not implemented"){return new C.Exception(e,O.Unimplemented)}unavailable(e="not available"){return new C.Exception(e,O.Unavailable)}async removeListener(e,t){const n=this.listeners[e];if(!n)return;const i=n.indexOf(t);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(n=>{this.notifyListeners(e,n)}))}}const F=r=>encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),M=r=>r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class ne extends x{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[i,a]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=M(i).trim(),a=M(a).trim(),t[i]=a}),t}async setCookie(e){try{const t=F(e.key),n=F(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,a=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${n||""}${i}; path=${a}; ${o};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}k("CapacitorCookies",{web:()=>new ne});const ie=async r=>new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{const i=n.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},n.onerror=i=>t(i),n.readAsDataURL(r)}),ae=(r={})=>{const e=Object.keys(r);return Object.keys(r).map(i=>i.toLocaleLowerCase()).reduce((i,a,o)=>(i[a]=r[e[o]],i),{})},se=(r,e=!0)=>r?Object.entries(r).reduce((n,i)=>{const[a,o]=i;let c,h;return Array.isArray(o)?(h="",o.forEach(g=>{c=e?encodeURIComponent(g):g,h+=`${a}=${c}&`}),h.slice(0,-1)):(c=e?encodeURIComponent(o):o,h=`${a}=${c}`),`${n}&${h}`},"").substr(1):null,oe=(r,e={})=>{const t=Object.assign({method:r.method||"GET",headers:r.headers},e),i=ae(r.headers)["content-type"]||"";if(typeof r.data=="string")t.body=r.data;else if(i.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[o,c]of Object.entries(r.data||{}))a.set(o,c);t.body=a.toString()}else if(i.includes("multipart/form-data")||r.data instanceof FormData){const a=new FormData;if(r.data instanceof FormData)r.data.forEach((c,h)=>{a.append(h,c)});else for(const c of Object.keys(r.data))a.append(c,r.data[c]);t.body=a;const o=new Headers(t.headers);o.delete("content-type"),t.headers=o}else(i.includes("application/json")||typeof r.data=="object")&&(t.body=JSON.stringify(r.data));return t};class ce extends x{async request(e){const t=oe(e,e.webFetchExtra),n=se(e.params,e.shouldEncodeUrlParams),i=n?`${e.url}?${n}`:e.url,a=await fetch(i,t),o=a.headers.get("content-type")||"";let{responseType:c="text"}=a.ok?e:{};o.includes("application/json")&&(c="json");let h,g;switch(c){case"arraybuffer":case"blob":g=await a.blob(),h=await ie(g);break;case"json":h=await a.json();break;case"document":case"text":default:h=await a.text()}const D={};return a.headers.forEach((l,d)=>{D[d]=l}),{data:h,headers:D,status:a.status,url:a.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}k("CapacitorHttp",{web:()=>new ce});var G;(function(r){r.Dark="DARK",r.Light="LIGHT",r.Default="DEFAULT"})(G||(G={}));var K;(function(r){r.StatusBar="StatusBar",r.NavigationBar="NavigationBar"})(K||(K={}));class le extends x{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}k("SystemBars",{web:()=>new le});function ue(r){return new DataView(Uint8Array.from(r).buffer)}function de(r){return Array.from(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}function he(r){return`0000${r.toString(16).padStart(4,"0")}-0000-1000-8000-00805f9b34fb`}function z(r){const e=[];let t,n,i=1,a=0;for(t=0;t<r.length;t++)n=r.charCodeAt(t),(n>47&&n<58||n>64&&n<71||n>96&&n<103)&&(a=a<<4^(n>64?n+9:n)&15,(i^=1)&&e.push(a&255));return ue(e)}function _(r){return de(r).map(e=>{let t=e.toString(16);return t.length==1&&(t="0"+t),t}).join("")}function ye(r){if(typeof r=="string")return r;if(typeof r=="number")return he(r);throw new Error("Invalid UUID")}function ve(r){const e={};if(r)return r.forEach((t,n)=>{e[n.toString()]=t}),e}function Y(r){if(r!==void 0){if(typeof r=="string"){const e=z(r);return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}return r instanceof DataView?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}}function I(r){if(r!==void 0)return r instanceof DataView?_(r):_(new DataView(r.buffer,r.byteOffset,r.byteLength))}function be(r){if(r.buffer instanceof SharedArrayBuffer){const t=new Uint8Array(r.buffer,r.byteOffset,r.byteLength).slice().buffer;return new DataView(t)}return r}const s=k("BluetoothLe",{web:()=>Z(()=>import("./web-BMfYPyXj.js"),__vite__mapDeps([0,1,2,3])).then(r=>new r.BluetoothLeWeb)}),fe=()=>{let r=Promise.resolve();return e=>new Promise((t,n)=>{r=r.then(()=>e()).then(t).catch(n)})};function R(r){return r?fe():e=>e()}function u(r){if(typeof r!="string")throw new Error(`Invalid UUID type ${typeof r}. Expected string.`);if(r=r.toLowerCase(),!(r.search(/^[0-9a-f]{8}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{12}$/)>=0))throw new Error(`Invalid UUID format ${r}. Expected 128 bit string (e.g. "0000180d-0000-1000-8000-00805f9b34fb").`);return r}class we{constructor(){this.scanListener=null,this.eventListeners=new Map,this.queue=R(!0)}enableQueue(){this.queue=R(!0)}disableQueue(){this.queue=R(!1)}async initialize(e){await this.queue(async()=>{await s.initialize(e)})}async isEnabled(){return await this.queue(async()=>(await s.isEnabled()).value)}async requestEnable(){await this.queue(async()=>{await s.requestEnable()})}async enable(){await this.queue(async()=>{await s.enable()})}async disable(){await this.queue(async()=>{await s.disable()})}async startEnabledNotifications(e){await this.queue(async()=>{var t;const n="onEnabledChanged";await((t=this.eventListeners.get(n))===null||t===void 0?void 0:t.remove());const i=await s.addListener(n,a=>{e(a.value)});this.eventListeners.set(n,i),await s.startEnabledNotifications()})}async stopEnabledNotifications(){await this.queue(async()=>{var e;const t="onEnabledChanged";await((e=this.eventListeners.get(t))===null||e===void 0?void 0:e.remove()),this.eventListeners.delete(t),await s.stopEnabledNotifications()})}async isLocationEnabled(){return await this.queue(async()=>(await s.isLocationEnabled()).value)}async openLocationSettings(){await this.queue(async()=>{await s.openLocationSettings()})}async openBluetoothSettings(){await this.queue(async()=>{await s.openBluetoothSettings()})}async openAppSettings(){await this.queue(async()=>{await s.openAppSettings()})}async setDisplayStrings(e){await this.queue(async()=>{await s.setDisplayStrings(e)})}async requestDevice(e){return e=e?this.validateRequestBleDeviceOptions(e):void 0,await this.queue(async()=>await s.requestDevice(e))}async requestLEScan(e,t){e=this.validateRequestBleDeviceOptions(e),await this.queue(async()=>{var n;await((n=this.scanListener)===null||n===void 0?void 0:n.remove()),this.scanListener=await s.addListener("onScanResult",i=>{const a=Object.assign(Object.assign({},i),{manufacturerData:this.convertObject(i.manufacturerData),serviceData:this.convertObject(i.serviceData),rawAdvertisement:i.rawAdvertisement?this.convertValue(i.rawAdvertisement):void 0});t(a)}),await s.requestLEScan(e)})}async stopLEScan(){await this.queue(async()=>{var e;await((e=this.scanListener)===null||e===void 0?void 0:e.remove()),this.scanListener=null,await s.stopLEScan()})}async getDevices(e){if(!Array.isArray(e))throw new Error("deviceIds must be an array");return this.queue(async()=>(await s.getDevices({deviceIds:e})).devices)}async getConnectedDevices(e){if(!Array.isArray(e))throw new Error("services must be an array");return e=e.map(u),this.queue(async()=>(await s.getConnectedDevices({services:e})).devices)}async getBondedDevices(){return this.queue(async()=>(await s.getBondedDevices()).devices)}async connect(e,t,n){await this.queue(async()=>{var i;if(t){const a=`disconnected|${e}`;await((i=this.eventListeners.get(a))===null||i===void 0?void 0:i.remove());const o=await s.addListener(a,()=>{t(e)});this.eventListeners.set(a,o)}await s.connect(Object.assign({deviceId:e},n))})}async createBond(e,t){await this.queue(async()=>{await s.createBond(Object.assign({deviceId:e},t))})}async isBonded(e){return await this.queue(async()=>(await s.isBonded({deviceId:e})).value)}async disconnect(e){await this.queue(async()=>{await s.disconnect({deviceId:e})})}async getServices(e){return await this.queue(async()=>(await s.getServices({deviceId:e})).services)}async discoverServices(e){await this.queue(async()=>{await s.discoverServices({deviceId:e})})}async getMtu(e){return await this.queue(async()=>(await s.getMtu({deviceId:e})).value)}async requestConnectionPriority(e,t){await this.queue(async()=>{await s.requestConnectionPriority({deviceId:e,connectionPriority:t})})}async readRssi(e){return await this.queue(async()=>{const n=await s.readRssi({deviceId:e});return parseFloat(n.value)})}async read(e,t,n,i){return t=u(t),n=u(n),await this.queue(async()=>{const o=await s.read(Object.assign({deviceId:e,service:t,characteristic:n},i));return this.convertValue(o.value)})}async write(e,t,n,i,a){return t=u(t),n=u(n),this.queue(async()=>{if(!i?.buffer)throw new Error("Invalid data.");let o=i;C.getPlatform()!=="web"&&(o=_(i)),await s.write(Object.assign({deviceId:e,service:t,characteristic:n,value:o},a))})}async writeWithoutResponse(e,t,n,i,a){t=u(t),n=u(n),await this.queue(async()=>{if(!i?.buffer)throw new Error("Invalid data.");let o=i;C.getPlatform()!=="web"&&(o=_(i)),await s.writeWithoutResponse(Object.assign({deviceId:e,service:t,characteristic:n,value:o},a))})}async readDescriptor(e,t,n,i,a){return t=u(t),n=u(n),i=u(i),await this.queue(async()=>{const c=await s.readDescriptor(Object.assign({deviceId:e,service:t,characteristic:n,descriptor:i},a));return this.convertValue(c.value)})}async writeDescriptor(e,t,n,i,a,o){return t=u(t),n=u(n),i=u(i),this.queue(async()=>{if(!a?.buffer)throw new Error("Invalid data.");let c=a;C.getPlatform()!=="web"&&(c=_(a)),await s.writeDescriptor(Object.assign({deviceId:e,service:t,characteristic:n,descriptor:i,value:c},o))})}async startNotifications(e,t,n,i,a){t=u(t),n=u(n),await this.queue(async()=>{var o;const c=`notification|${e}|${t}|${n}`;await((o=this.eventListeners.get(c))===null||o===void 0?void 0:o.remove());const h=await s.addListener(c,g=>{i(this.convertValue(g?.value))});this.eventListeners.set(c,h),await s.startNotifications(Object.assign({deviceId:e,service:t,characteristic:n},a))})}async stopNotifications(e,t,n){t=u(t),n=u(n),await this.queue(async()=>{var i;const a=`notification|${e}|${t}|${n}`;await((i=this.eventListeners.get(a))===null||i===void 0?void 0:i.remove()),this.eventListeners.delete(a),await s.stopNotifications({deviceId:e,service:t,characteristic:n})})}validateRequestBleDeviceOptions(e){return e.services&&(e.services=e.services.map(u)),e.optionalServices&&(e.optionalServices=e.optionalServices.map(u)),e.serviceData&&C.getPlatform()!=="web"&&(e.serviceData=e.serviceData.map(t=>Object.assign(Object.assign({},t),{serviceUuid:u(t.serviceUuid),dataPrefix:I(t.dataPrefix),mask:I(t.mask)}))),e.manufacturerData&&(C.getPlatform()!=="web"?e.manufacturerData=e.manufacturerData.map(t=>Object.assign(Object.assign({},t),{dataPrefix:I(t.dataPrefix),mask:I(t.mask)})):e.manufacturerData=e.manufacturerData.map(t=>Object.assign(Object.assign({},t),{dataPrefix:Y(t.dataPrefix),mask:Y(t.mask)}))),e}convertValue(e){return typeof e=="string"?z(e):e===void 0?new DataView(new ArrayBuffer(0)):e}convertObject(e){if(e===void 0)return;const t={};for(const n of Object.keys(e))t[n]=this.convertValue(e[n]);return t}}const L=new we,m="\x1B",E="";class ge{device=null;isWeb=!C.isNativePlatform();printerService=null;printerCharacteristic=null;connectionListeners=[];async initialize(){this.isWeb||(await L.initialize(),await this.restoreConnection())}addConnectionListener(e){this.connectionListeners.push(e)}removeConnectionListener(e){this.connectionListeners=this.connectionListeners.filter(t=>t!==e)}notifyConnectionChange(e){this.connectionListeners.forEach(t=>t(e))}async restoreConnection(){const e=localStorage.getItem("thermal_printer_id");if(e&&!this.isWeb)try{await L.connect(e,()=>{console.log("Printer disconnected"),this.device=null,this.printerService=null,this.printerCharacteristic=null,this.notifyConnectionChange(!1)});const t=localStorage.getItem("thermal_printer_name")||"Thermal Printer";this.device={deviceId:e,name:t},await this.discoverPrinterCharacteristics(e),this.notifyConnectionChange(!0),console.log("Restored printer connection:",t)}catch(t){console.log("Could not restore previous connection:",t),localStorage.removeItem("thermal_printer_id"),localStorage.removeItem("thermal_printer_name")}}async scan(){if(this.isWeb)throw new Error("Bluetooth printing not supported in web browser");const e=[];return await L.requestLEScan({},t=>{const n=t.device.name?.toLowerCase()||"";(n.includes("pt")||n.includes("printer")||n.includes("thermal")||n.includes("pos")||n.includes("rpp"))&&!e.find(a=>a.deviceId===t.device.deviceId)&&e.push(t.device)}),await new Promise(t=>setTimeout(t,5e3)),await L.stopLEScan(),e}async discoverPrinterCharacteristics(e){try{const t=await L.getServices(e);console.log("Discovered services:",t);for(const n of t)for(const i of n.characteristics)if(i.properties.write||i.properties.writeWithoutResponse){console.log("Found writable characteristic:",{service:n.uuid,characteristic:i.uuid}),this.printerService=n.uuid,this.printerCharacteristic=i.uuid;return}throw new Error("No writable characteristic found on printer")}catch(t){throw console.error("Service discovery error:",t),t}}async connect(e,t){if(this.isWeb)throw new Error("Bluetooth printing not supported in web browser");try{return await L.connect(e,()=>{console.log("Printer disconnected"),this.device=null,this.printerService=null,this.printerCharacteristic=null,localStorage.removeItem("thermal_printer_id"),localStorage.removeItem("thermal_printer_name"),this.notifyConnectionChange(!1)}),this.device={deviceId:e,name:t||"Thermal Printer"},await this.discoverPrinterCharacteristics(e),localStorage.setItem("thermal_printer_id",e),localStorage.setItem("thermal_printer_name",t||"Thermal Printer"),this.notifyConnectionChange(!0),!0}catch(n){return console.error("Connection error:",n),this.device=null,!1}}async disconnect(){if(this.device&&!this.isWeb){try{await L.disconnect(this.device.deviceId)}catch(e){console.error("Disconnect error:",e)}this.device=null,this.printerService=null,this.printerCharacteristic=null,localStorage.removeItem("thermal_printer_id"),localStorage.removeItem("thermal_printer_name"),this.notifyConnectionChange(!1)}}isConnected(){return this.device!==null&&this.printerService!==null&&this.printerCharacteristic!==null}getConnectedDevice(){return this.device}async write(e){if(!this.device||this.isWeb)throw new Error("Printer not connected");if(!this.printerService||!this.printerCharacteristic)throw new Error("Printer characteristics not discovered. Please reconnect.");const n=new TextEncoder().encode(e),i=new DataView(n.buffer);try{console.log("Writing to printer:",{service:this.printerService,characteristic:this.printerCharacteristic,dataLength:n.length}),await L.write(this.device.deviceId,this.printerService,this.printerCharacteristic,i),console.log("Write successful")}catch(a){throw console.error("Write error:",a),new Error(`Failed to write to printer: ${a.message}`)}}async printTest(){const e=[`${m}@`,`${m}a`,`================================
`,`Sabing2m Test Receipt
`,`================================
`,`${m}a\0`,`Date: ${new Date().toLocaleDateString()}
`,`Time: ${new Date().toLocaleTimeString()}
`,`================================
`,`Bluetooth Connection: OK
`,`Printer Status: Connected
`,`================================
`,`


`,`${E}VA\0`].join("");await this.write(e)}async printTicket(e){console.log("[ThermalPrinter] printTicket() called with data:",e);const t=e.side.toUpperCase(),n=e.event_name||"Event Name Not Set";console.log("[ThermalPrinter] Building ESC/POS commands with QR code...");const i=[`${m}@`,`${m}a\0`,`${E}(k\x001A2\0`,`${E}(k\x001C`,`${E}(k\x001E0`,`${E}(k${String.fromCharCode(e.ticket_id.length+3)}\x001P0${e.ticket_id}`,`${E}(k\x001Q0`,`

`,`${m}a`,`${m}!`,`${n}
`,`${m}!\0`,`================================
`,`${m}a\0`,`
`,`Fight#:  ${e.fight_number}
`,`Teller:  Teller
`,`Receipt: ${e.ticket_id}
`,`
`,`Date:    ${new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})}
`,`Time:    ${new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})}
`,`
`,`================================
`,`
`,`${m}!`,`${t} - P${e.amount.toLocaleString()}
`,`${m}!\0`,`Odds: x${e.odds} | Win: P${e.potential_payout.toLocaleString()}
`,`
`,`================================
`,`
`,`${m}a`,`OFFICIAL BETTING RECEIPT
`,`



`,`${E}VA\0`].join("");console.log("[ThermalPrinter] Commands built, length:",i.length),console.log("[ThermalPrinter] Calling write()...");try{await this.write(i),console.log("[ThermalPrinter] ✅ write() completed successfully")}catch(a){throw console.error("[ThermalPrinter] ❌ write() failed:",a),a}}}const Ce=new ge;export{x as W,be as a,z as h,ve as m,Ce as t,ye as w};
